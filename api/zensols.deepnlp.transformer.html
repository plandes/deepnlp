<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="zensols.deepnlp.vectorize package" href="zensols.deepnlp.vectorize.html" /><link rel="prev" title="zensols.deepnlp.model package" href="zensols.deepnlp.model.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>zensols.deepnlp.transformer package - DeepZensols Natural Language Processing 1.18.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../top.html"><div class="brand">DeepZensols Natural Language Processing 1.18.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../top.html">
  
  
  <span class="sidebar-brand-text">DeepZensols Natural Language Processing 1.18.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/clickbate-example.html">Clickbate Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/layers.html">Layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/movie-example.html">Movie Review Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/ner-example.html">NER Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/reslib.html">Resource Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/vectorizers.html">Vectorizers</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../api.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="zensols.deepnlp.html">zensols.deepnlp package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of zensols.deepnlp package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="zensols.deepnlp.classify.html">zensols.deepnlp.classify package</a></li>
<li class="toctree-l3"><a class="reference internal" href="zensols.deepnlp.embed.html">zensols.deepnlp.embed package</a></li>
<li class="toctree-l3"><a class="reference internal" href="zensols.deepnlp.index.html">zensols.deepnlp.index package</a></li>
<li class="toctree-l3"><a class="reference internal" href="zensols.deepnlp.layer.html">zensols.deepnlp.layer package</a></li>
<li class="toctree-l3"><a class="reference internal" href="zensols.deepnlp.model.html">zensols.deepnlp.model package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">zensols.deepnlp.transformer package</a></li>
<li class="toctree-l3"><a class="reference internal" href="zensols.deepnlp.vectorize.html">zensols.deepnlp.vectorize package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="zensols.deepnlp.classify.html">zensols.deepnlp.classify package</a></li>
<li class="toctree-l2"><a class="reference internal" href="zensols.deepnlp.embed.html">zensols.deepnlp.embed package</a></li>
<li class="toctree-l2"><a class="reference internal" href="zensols.deepnlp.index.html">zensols.deepnlp.index package</a></li>
<li class="toctree-l2"><a class="reference internal" href="zensols.deepnlp.layer.html">zensols.deepnlp.layer package</a></li>
<li class="toctree-l2"><a class="reference internal" href="zensols.deepnlp.model.html">zensols.deepnlp.model package</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">zensols.deepnlp.transformer package</a></li>
<li class="toctree-l2"><a class="reference internal" href="zensols.deepnlp.vectorize.html">zensols.deepnlp.vectorize package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/api/zensols.deepnlp.transformer.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="zensols-deepnlp-transformer-package">
<h1>zensols.deepnlp.transformer package<a class="headerlink" href="#zensols-deepnlp-transformer-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-zensols.deepnlp.transformer.domain">
<span id="zensols-deepnlp-transformer-domain-module"></span><h2>zensols.deepnlp.transformer.domain module<a class="headerlink" href="#module-zensols.deepnlp.transformer.domain" title="Link to this heading">¶</a></h2>
<p>Container classes for Bert models</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.domain.</span></span><span class="sig-name descname"><span class="pre">TokenizedDocument</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary_tokens</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedDocument"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.persist.html#zensols.persist.annotation.PersistableContainer" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PersistableContainer</span></code></a>, <a class="reference external" href="https://plandes.github.io/util/api/zensols.util.html#zensols.util.writable.Writable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code></a></p>
<p>This is the tokenized document output of
<a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer" title="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer</span></code></a>.  Instances of this class are
pickelable, in a feature context.  Then give to the in the decoding phase
to create a tensor with a transformer model such as
<a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding" title="zensols.deepnlp.transformer.embed.TransformerEmbedding"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerEmbedding</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary_tokens</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.attention_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">attention_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.attention_mask" title="Link to this definition">¶</a></dt>
<dd><p>The attention mask (0/1s).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.boundary_tokens">
<span class="sig-name descname"><span class="pre">boundary_tokens</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.boundary_tokens" title="Link to this definition">¶</a></dt>
<dd><p>If the token document has sentence boundary tokens, such as <code class="docutils literal notranslate"><span class="pre">[CLS]</span></code> for
Bert.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.deallocate">
<span class="sig-name descname"><span class="pre">deallocate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedDocument.deallocate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.deallocate" title="Link to this definition">¶</a></dt>
<dd><p>Deallocate all resources for this instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.detach">
<span class="sig-name descname"><span class="pre">detach</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedDocument.detach"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.detach" title="Link to this definition">¶</a></dt>
<dd><p>Return a version of the document that is pickleable.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument" title="zensols.deepnlp.transformer.domain.TokenizedDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedDocument</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.from_tensor">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_tensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedDocument.from_tensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.from_tensor" title="Link to this definition">¶</a></dt>
<dd><p>Create an instance of the class using a tensor.  This is useful for
re-creating documents for mapping with <a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.map_word_pieces" title="zensols.deepnlp.transformer.domain.TokenizedDocument.map_word_pieces"><code class="xref py py-meth docutils literal notranslate"><span class="pre">map_word_pieces()</span></code></a> after
unpickling from a document created with
<code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.tokenize</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tensor</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></span>) – the tensor to set in <a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.tensor" title="zensols.deepnlp.transformer.domain.TokenizedDocument.tensor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tensor</span></code></a></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument" title="zensols.deepnlp.transformer.domain.TokenizedDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedDocument</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.get_wordpiece_count">
<span class="sig-name descname"><span class="pre">get_wordpiece_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedDocument.get_wordpiece_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.get_wordpiece_count" title="Link to this definition">¶</a></dt>
<dd><p>The size of the document (sum over sentences) in number of word
pieces.  To keep special tokens (such BERT’s as <code class="docutils literal notranslate"><span class="pre">[CLS]</span></code> and <code class="docutils literal notranslate"><span class="pre">[SEP]</span></code>
tokens) when passing in a tokenizer in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>, add
<code class="docutils literal notranslate"><span class="pre">special_tokens={}</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – any keyword arguments passed on to
<a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.map_to_word_pieces" title="zensols.deepnlp.transformer.domain.TokenizedDocument.map_to_word_pieces"><code class="xref py py-meth docutils literal notranslate"><span class="pre">map_to_word_pieces()</span></code></a> except (do not add
<code class="docutils literal notranslate"><span class="pre">index_tokens</span></code> and <code class="docutils literal notranslate"><span class="pre">includes</span></code>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.input_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.input_ids" title="Link to this definition">¶</a></dt>
<dd><p>The token IDs as the output from the tokenizer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.is_empty">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_empty</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.is_empty" title="Link to this definition">¶</a></dt>
<dd><p>Whether the document in this instance has no sentences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.map_to_word_pieces">
<span class="sig-name descname"><span class="pre">map_to_word_pieces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentences</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_wp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">special_tokens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_tokens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">includes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">frozenset({'map'})</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedDocument.map_to_word_pieces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.map_to_word_pieces" title="Link to this definition">¶</a></dt>
<dd><p>Map word piece tokens to linguistic tokens.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentences</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]</span>) – an iteration of sentences, which is returned in the
output (i.e. <code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureSentence</span></code>),
or <a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.input_ids" title="zensols.deepnlp.transformer.domain.TokenizedDocument.input_ids"><code class="xref py py-obj docutils literal notranslate"><span class="pre">input_ids</span></code></a> if <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>map_wp</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]]</span>) – either a function that takes the token index, sentence ID
and input IDs, or the mapping from word piece ID to
string token; return output is the string token (or
numerical output if no mapping is provided); if an
instance of <a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer" title="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer</span></code></a>, its
vocabulary and special tokens are utilized for mapping
and special token consideration</p></li>
<li><p><strong>add_indices</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – whether to add the token ID and index after the
token string when <code class="docutils literal notranslate"><span class="pre">id2tok</span></code> is provided for
<code class="docutils literal notranslate"><span class="pre">map_wp</span></code></p></li>
<li><p><strong>special_tokens</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span>) – a list of tokens (such BERT’s as <code class="docutils literal notranslate"><span class="pre">[CLS]</span></code> and
<code class="docutils literal notranslate"><span class="pre">[SEP]</span></code> tokens) to remove; to keep special
tokens when passing in a tokenizer in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>,
add <code class="docutils literal notranslate"><span class="pre">special_tokens={}</span></code>.</p></li>
<li><p><strong>index_tokens</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – whether to index tokens positionally, which is used
for mapping with feature or tokenized sentences;
set this to <code class="docutils literal notranslate"><span class="pre">False</span></code> when <code class="docutils literal notranslate"><span class="pre">sentences</span></code> are
anything but a feature document / sentences</p></li>
<li><p><strong>includes</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span>) – what data to return, which is a set of the keys listed
in the <code class="docutils literal notranslate"><span class="pre">return</span></code> documentation below</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>a list sentence maps, each with:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sent_ix</span></code> -&gt; the <a href="#id1"><span class="problematic" id="id2">``</span></a>i``th sentence (always provided)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">map</span></code> -&gt; list of <code class="docutils literal notranslate"><span class="pre">(sentence</span> <span class="pre">'token',</span> <span class="pre">word</span> <span class="pre">pieces)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sent</span></code> -&gt; a <a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureSentence" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureSentence</span></code></a>
or a tensor of vocab indexes if <code class="docutils literal notranslate"><span class="pre">map_wp</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">word_pieces</span></code> -&gt; the word pieces of the sentences</p></li>
</ul>
</div></blockquote>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.map_word_pieces">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">map_word_pieces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token_offsets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedDocument.map_word_pieces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.map_word_pieces" title="Link to this definition">¶</a></dt>
<dd><p>Map word piece tokens to linguistic tokens.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a>[<a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.tok.FeatureToken" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureToken</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]]]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>a list of tuples in the form:</p>
<p><code class="docutils literal notranslate"><span class="pre">(&lt;token</span> <span class="pre">index&gt;,</span> <span class="pre">&lt;list</span> <span class="pre">of</span> <span class="pre">word</span> <span class="pre">piece</span> <span class="pre">indexes&gt;)</span></code></p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.offsets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">offsets</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.offsets" title="Link to this definition">¶</a></dt>
<dd><p>The offsets from word piece (transformer’s tokenizer) to feature
document index mapping.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.params">
<span class="sig-name descname"><span class="pre">params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedDocument.params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.params" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Size</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.shape" title="Link to this definition">¶</a></dt>
<dd><p>Return the shape of the vectorized document.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.tensor">
<span class="sig-name descname"><span class="pre">tensor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.tensor" title="Link to this definition">¶</a></dt>
<dd><p>Encodes the input IDs, attention mask, and word piece offset map.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.token_type_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">token_type_ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.token_type_ids" title="Link to this definition">¶</a></dt>
<dd><p>The token type IDs (0/1s).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.truncate">
<span class="sig-name descname"><span class="pre">truncate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedDocument.truncate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.truncate" title="Link to this definition">¶</a></dt>
<dd><p>Truncate the the last (token) dimension to <code class="docutils literal notranslate"><span class="pre">size</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument" title="zensols.deepnlp.transformer.domain.TokenizedDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedDocument</span></code></a></span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a new instance of this class truncated to size</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedDocument.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_tokens=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id2tok=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedDocument.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.write" title="Link to this definition">¶</a></dt>
<dd><p>Write the contents of this instance to <code class="docutils literal notranslate"><span class="pre">writer</span></code> using indention
<code class="docutils literal notranslate"><span class="pre">depth</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.domain.</span></span><span class="sig-name descname"><span class="pre">TokenizedFeatureDocument</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary_tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id2tok</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">char_offsets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedFeatureDocument"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument" title="zensols.deepnlp.transformer.domain.TokenizedDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedDocument</span></code></a></p>
<p>Instance of this class are created, then a picklable version returned
with <a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.detach" title="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.detach"><code class="xref py py-meth docutils literal notranslate"><span class="pre">detach()</span></code></a> as an instance of the super class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary_tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id2tok</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">char_offsets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.char_offsets">
<span class="sig-name descname"><span class="pre">char_offsets</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a><span class="pre">]]</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.char_offsets" title="Link to this definition">¶</a></dt>
<dd><p>The valid character offsets for each word piece token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.detach">
<span class="sig-name descname"><span class="pre">detach</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedFeatureDocument.detach"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.detach" title="Link to this definition">¶</a></dt>
<dd><p>Return a version of the document that is pickleable.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument" title="zensols.deepnlp.transformer.domain.TokenizedDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedDocument</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.feature">
<span class="sig-name descname"><span class="pre">feature</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureDocument" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocument</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.feature" title="Link to this definition">¶</a></dt>
<dd><p>The document to tokenize.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.id2tok">
<span class="sig-name descname"><span class="pre">id2tok</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.id2tok" title="Link to this definition">¶</a></dt>
<dd><p>If provided, a mapping of indexes to transformer tokens.  This attribute
is always nulled out after being persisted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.map_to_word_pieces">
<span class="sig-name descname"><span class="pre">map_to_word_pieces</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentences</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_wp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedFeatureDocument.map_to_word_pieces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.map_to_word_pieces" title="Link to this definition">¶</a></dt>
<dd><p>Map word piece tokens to linguistic tokens.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentences</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]</span>) – an iteration of sentences, which is returned in the
output (i.e. <code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureSentence</span></code>),
or <code class="xref py py-obj docutils literal notranslate"><span class="pre">input_ids</span></code> if <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>map_wp</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]]</span>) – either a function that takes the token index, sentence ID
and input IDs, or the mapping from word piece ID to
string token; return output is the string token (or
numerical output if no mapping is provided); if an
instance of <a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer" title="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer</span></code></a>, its
vocabulary and special tokens are utilized for mapping
and special token consideration</p></li>
<li><p><strong>add_indices</strong> – whether to add the token ID and index after the
token string when <code class="docutils literal notranslate"><span class="pre">id2tok</span></code> is provided for
<code class="docutils literal notranslate"><span class="pre">map_wp</span></code></p></li>
<li><p><strong>special_tokens</strong> – a list of tokens (such BERT’s as <code class="docutils literal notranslate"><span class="pre">[CLS]</span></code> and
<code class="docutils literal notranslate"><span class="pre">[SEP]</span></code> tokens) to remove; to keep special
tokens when passing in a tokenizer in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>,
add <code class="docutils literal notranslate"><span class="pre">special_tokens={}</span></code>.</p></li>
<li><p><strong>index_tokens</strong> – whether to index tokens positionally, which is used
for mapping with feature or tokenized sentences;
set this to <code class="docutils literal notranslate"><span class="pre">False</span></code> when <code class="docutils literal notranslate"><span class="pre">sentences</span></code> are
anything but a feature document / sentences</p></li>
<li><p><strong>includes</strong> – what data to return, which is a set of the keys listed
in the <code class="docutils literal notranslate"><span class="pre">return</span></code> documentation below</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>a list sentence maps, each with:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sent_ix</span></code> -&gt; the <a href="#id3"><span class="problematic" id="id4">``</span></a>i``th sentence (always provided)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">map</span></code> -&gt; list of <code class="docutils literal notranslate"><span class="pre">(sentence</span> <span class="pre">'token',</span> <span class="pre">word</span> <span class="pre">pieces)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sent</span></code> -&gt; a <a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureSentence" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureSentence</span></code></a>
or a tensor of vocab indexes if <code class="docutils literal notranslate"><span class="pre">map_wp</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">word_pieces</span></code> -&gt; the word pieces of the sentences</p></li>
</ul>
</div></blockquote>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_tokens=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id2tok=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/domain.html#TokenizedFeatureDocument.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.write" title="Link to this definition">¶</a></dt>
<dd><p>Write the contents of this instance to <code class="docutils literal notranslate"><span class="pre">writer</span></code> using indention
<code class="docutils literal notranslate"><span class="pre">depth</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.deepnlp.transformer.embed">
<span id="zensols-deepnlp-transformer-embed-module"></span><h2>zensols.deepnlp.transformer.embed module<a class="headerlink" href="#module-zensols.deepnlp.transformer.embed" title="Link to this heading">¶</a></h2>
<p>The tokenizer object.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.embed.</span></span><span class="sig-name descname"><span class="pre">TransformerEmbedding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pooler_output'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_attentions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/embed.html#TransformerEmbedding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.persist.html#zensols.persist.annotation.PersistableContainer" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PersistableContainer</span></code></a>, <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>An model for transformer embeddings (such as BERT) that wraps the
HuggingFace transformms API.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.ALL_OUTPUT">
<span class="sig-name descname"><span class="pre">ALL_OUTPUT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">ClassVar</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'all_output'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.ALL_OUTPUT" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.LAST_HIDDEN_STATE_OUTPUT">
<span class="sig-name descname"><span class="pre">LAST_HIDDEN_STATE_OUTPUT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">ClassVar</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'last_hidden_state'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.LAST_HIDDEN_STATE_OUTPUT" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.POOLER_OUTPUT">
<span class="sig-name descname"><span class="pre">POOLER_OUTPUT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">ClassVar</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'pooler_output'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.POOLER_OUTPUT" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pooler_output'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_attentions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.cache">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cache</span></span><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.cache" title="Link to this definition">¶</a></dt>
<dd><p>When set to <code class="docutils literal notranslate"><span class="pre">True</span></code> cache a global space model using the parameters
from the first instance creation.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PreTrainedModel</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.model" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the embedding as given in the configuration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.output">
<span class="sig-name descname"><span class="pre">output</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'pooler_output'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.output" title="Link to this definition">¶</a></dt>
<dd><p>The output from the huggingface transformer API to return.</p>
<p>This is set to one of:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.LAST_HIDDEN_STATE_OUTPUT" title="zensols.deepnlp.transformer.embed.TransformerEmbedding.LAST_HIDDEN_STATE_OUTPUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LAST_HIDDEN_STATE_OUTPUT</span></code></a>: with the output embeddings of the last
layer with shape: <code class="docutils literal notranslate"><span class="pre">(batch,</span> <span class="pre">N</span> <span class="pre">sentences,</span> <span class="pre">hidden</span> <span class="pre">layer</span> <span class="pre">dimension)</span></code></p></li>
<li><p><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.POOLER_OUTPUT" title="zensols.deepnlp.transformer.embed.TransformerEmbedding.POOLER_OUTPUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">POOLER_OUTPUT</span></code></a>: the last layer hidden-state of the first token of
the sequence (classification token) further processed by a Linear
layer and a Tanh activation function with shape: <code class="docutils literal notranslate"><span class="pre">(batch,</span> <span class="pre">hidden</span>
<span class="pre">layer</span> <span class="pre">dimension)</span></code></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.ALL_OUTPUT" title="zensols.deepnlp.transformer.embed.TransformerEmbedding.ALL_OUTPUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ALL_OUTPUT</span></code></a>: includes both as a dictionary with correpsonding</dt><dd><p>keys</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.output_attentions">
<span class="sig-name descname"><span class="pre">output_attentions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.output_attentions" title="Link to this definition">¶</a></dt>
<dd><p>Whether or not to output the attention layer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.resource">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">resource</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource" title="zensols.deepnlp.transformer.resource.TransformerResource"><span class="pre">TransformerResource</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.resource" title="Link to this definition">¶</a></dt>
<dd><p>The transformer resource containing the model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.tokenize">
<span class="sig-name descname"><span class="pre">tokenize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/embed.html#TransformerEmbedding.tokenize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.tokenize" title="Link to this definition">¶</a></dt>
<dd><p>Tokenize the feature document, which is used as the input to
<a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.transform" title="zensols.deepnlp.transformer.embed.TransformerEmbedding.transform"><code class="xref py py-meth docutils literal notranslate"><span class="pre">transform()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>the document to tokenize</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument" title="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedFeatureDocument</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the tokenization of <code class="docutils literal notranslate"><span class="pre">doc</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.tokenizer">
<span class="sig-name descname"><span class="pre">tokenizer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer" title="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.tokenizer" title="Link to this definition">¶</a></dt>
<dd><p>The tokenizer used for creating the input for the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.trainable">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">trainable</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.trainable" title="Link to this definition">¶</a></dt>
<dd><p>Whether or not the model is trainable or frozen.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/embed.html#TransformerEmbedding.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.transform" title="Link to this definition">¶</a></dt>
<dd><p>Transform the documents in to the transformer output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>docs</strong> – the batch of documents to return</p></li>
<li><p><strong>output</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – the output from the huggingface transformer API to return
(see class docs)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a container object instance with the output, which contains
(among other data) <code class="docutils literal notranslate"><span class="pre">last_hidden_state</span></code> with the output
embeddings of the last layer with shape: <code class="docutils literal notranslate"><span class="pre">(batch,</span> <span class="pre">N</span> <span class="pre">sentences,</span>
<span class="pre">hidden</span> <span class="pre">layer</span> <span class="pre">dimension)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.embed.TransformerEmbedding.vector_dimension">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vector_dimension</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.vector_dimension" title="Link to this definition">¶</a></dt>
<dd><p>Return the output embedding dimension of the final layer.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.deepnlp.transformer.layer">
<span id="zensols-deepnlp-transformer-layer-module"></span><h2>zensols.deepnlp.transformer.layer module<a class="headerlink" href="#module-zensols.deepnlp.transformer.layer" title="Link to this heading">¶</a></h2>
<p>Contains transformer embedding layers.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.layer.</span></span><span class="sig-name descname"><span class="pre">TransformerEmbeddingLayer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/layer.html#TransformerEmbeddingLayer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zensols.deepnlp.layer.html#zensols.deepnlp.layer.embed.EmbeddingLayer" title="zensols.deepnlp.layer.embed.EmbeddingLayer"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmbeddingLayer</span></code></a></p>
<p>A transformer (i.e. BERT) embedding layer.  This class generates
embeddings on a per sentence basis.  See the initializer documentation for
configuration requirements.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.MODULE_NAME">
<span class="sig-name descname"><span class="pre">MODULE_NAME</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[str]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'transformer</span> <span class="pre">embedding'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.MODULE_NAME" title="Link to this definition">¶</a></dt>
<dd><p>The module name used in the logging message.  This is set in each
inherited class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/layer.html#TransformerEmbeddingLayer.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize with an embedding model.  This embedding model must
configured with <a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.output" title="zensols.deepnlp.transformer.embed.TransformerEmbedding.output"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TransformerEmbedding.output</span></code></a> to
<code class="docutils literal notranslate"><span class="pre">last_hidden_state</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>embed_model</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding" title="zensols.deepnlp.transformer.embed.TransformerEmbedding"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerEmbedding</span></code></a></span>) – used to generate the transformer (i.e. BERT)
embeddings</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.deallocate">
<span class="sig-name descname"><span class="pre">deallocate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/layer.html#TransformerEmbeddingLayer.deallocate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.deallocate" title="Link to this definition">¶</a></dt>
<dd><p>Deallocate all resources for this instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.forward">
<span class="sig-name descname"><span class="pre">forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/layer.html#TransformerEmbeddingLayer.forward"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.forward" title="Link to this definition">¶</a></dt>
<dd><p>Define the computation performed at every call.</p>
<p>Should be overridden by all subclasses.
:rtype: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></span></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although the recipe for forward pass needs to be defined within
this function, one should call the <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code> instance afterwards
instead of this since the former takes care of running the
registered hooks while the latter silently ignores them.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerSequence">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.layer.</span></span><span class="sig-name descname"><span class="pre">TransformerSequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">net_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/layer.html#TransformerSequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerSequence" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zensols.deepnlp.layer.html#zensols.deepnlp.layer.embed.EmbeddingNetworkModule" title="zensols.deepnlp.layer.embed.EmbeddingNetworkModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmbeddingNetworkModule</span></code></a>, <a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.model.html#zensols.deeplearn.model.sequence.SequenceNetworkModule" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SequenceNetworkModule</span></code></a></p>
<p>A sequence based model for token classification use HuggingFace
transformers layers (not their token classification API).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerSequence.MODULE_NAME">
<span class="sig-name descname"><span class="pre">MODULE_NAME</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[str]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'transformer</span> <span class="pre">sequence'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerSequence.MODULE_NAME" title="Link to this definition">¶</a></dt>
<dd><p>The module name used in the logging message.  This is set in each
inherited class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerSequence.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">net_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/layer.html#TransformerSequence.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerSequence.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the embedding layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>net_settings</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings" title="zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerSequenceNetworkSettings</span></code></a></span>) – the embedding layer configuration</p></li>
<li><p><strong>logger</strong> – the logger to use for the forward process in this layer</p></li>
<li><p><strong>filter_attrib_fn</strong> – if provided, called with a <code class="xref py py-class docutils literal notranslate"><span class="pre">BatchFieldMetadata</span></code> for each
field returning <code class="docutils literal notranslate"><span class="pre">True</span></code> if the batch field should be retained and
used in the embedding layer (see class docs); if <code class="docutils literal notranslate"><span class="pre">None</span></code> all
fields are considered</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerSequence.deallocate">
<span class="sig-name descname"><span class="pre">deallocate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/layer.html#TransformerSequence.deallocate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerSequence.deallocate" title="Link to this definition">¶</a></dt>
<dd><p>Deallocate all resources for this instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.layer.</span></span><span class="sig-name descname"><span class="pre">TransformerSequenceNetworkSettings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torch_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_stash</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding_layer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder_settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/layer.html#TransformerSequenceNetworkSettings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zensols.deepnlp.layer.html#zensols.deepnlp.layer.embed.EmbeddingNetworkSettings" title="zensols.deepnlp.layer.embed.EmbeddingNetworkSettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmbeddingNetworkSettings</span></code></a>, <a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.html#zensols.deeplearn.domain.DropoutNetworkSettings" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DropoutNetworkSettings</span></code></a></p>
<p>Settings configuration for <a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerSequence" title="zensols.deepnlp.transformer.layer.TransformerSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerSequence</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torch_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_stash</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding_layer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder_settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings.decoder_settings">
<span class="sig-name descname"><span class="pre">decoder_settings</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.layer.html#zensols.deeplearn.layer.linear.DeepLinearNetworkSettings" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeepLinearNetworkSettings</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings.decoder_settings" title="Link to this definition">¶</a></dt>
<dd><p>The decoder feed forward network.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings.get_module_class_name">
<span class="sig-name descname"><span class="pre">get_module_class_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/layer.html#TransformerSequenceNetworkSettings.get_module_class_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings.get_module_class_name" title="Link to this definition">¶</a></dt>
<dd><p>Returns the fully qualified class name of the module to create by
<code class="xref py py-class docutils literal notranslate"><span class="pre">ModelManager</span></code>.  This module takes as
the first parameter an instance of this class.</p>
<p><strong>Important</strong>: This method is not used for nested modules.  You must
declare specific class names in the configuration for those nested
class naems.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.deepnlp.transformer.mask">
<span id="zensols-deepnlp-transformer-mask-module"></span><h2>zensols.deepnlp.transformer.mask module<a class="headerlink" href="#module-zensols.deepnlp.transformer.mask" title="Link to this heading">¶</a></h2>
<p>Classes to predict fill-mask tasks.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.MaskFiller">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.mask.</span></span><span class="sig-name descname"><span class="pre">MaskFiller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'norm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MASK'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/mask.html#MaskFiller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.mask.MaskFiller" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The class fills masked tokens with the prediction of the underlying maked
model.  Masked tokens with attribute <a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.feature_id" title="zensols.deepnlp.transformer.mask.MaskFiller.feature_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">feature_id</span></code></a> having value
<a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.feature_value" title="zensols.deepnlp.transformer.mask.MaskFiller.feature_value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">feature_value</span></code></a> (<a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.tok.FeatureToken.norm" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">norm</span></code></a> and <code class="docutils literal notranslate"><span class="pre">MASK</span></code>
by default respectively) are substituted with model values.</p>
<p>To use this class, parse a sentence with a
<a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.parser.FeatureDocumentParser" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocumentParser</span></code></a> with masked tokens
using the string <a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.feature_value" title="zensols.deepnlp.transformer.mask.MaskFiller.feature_value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">feature_value</span></code></a>.</p>
<p>For example (with class defaults), the sentence:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Paris</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">MASK</span> <span class="n">of</span> <span class="n">France</span><span class="o">.</span>
</pre></div>
</div>
<p>becomes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Parise</span> <span class="ow">is</span> <span class="n">the</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span> <span class="n">of</span> <span class="n">France</span><span class="o">.</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;mask&gt;</span></code> string becomes the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">mask_token</span></code> for the model’s
tokenzier.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.MaskFiller.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'norm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MASK'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.mask.MaskFiller.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.MaskFiller.feature_id">
<span class="sig-name descname"><span class="pre">feature_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'norm'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.MaskFiller.feature_id" title="Link to this definition">¶</a></dt>
<dd><p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureToken</span></code> feature ID to match on masked
tokens.</p>
<dl class="field-list simple">
<dt class="field-odd">See<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.feature_value" title="zensols.deepnlp.transformer.mask.MaskFiller.feature_value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">feature_value</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.MaskFiller.feature_value">
<span class="sig-name descname"><span class="pre">feature_value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MASK'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.MaskFiller.feature_value" title="Link to this definition">¶</a></dt>
<dd><p>The value of feature ID <a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.feature_id" title="zensols.deepnlp.transformer.mask.MaskFiller.feature_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">feature_id</span></code></a> to match on masked tokens.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.MaskFiller.k">
<span class="sig-name descname"><span class="pre">k</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.MaskFiller.k" title="Link to this definition">¶</a></dt>
<dd><p>The number of top K predicted masked words per mask.  The total number of
predictions will be &lt;number of masks&gt; X <code class="docutils literal notranslate"><span class="pre">k</span></code> in the source document.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.MaskFiller.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/mask.html#MaskFiller.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.mask.MaskFiller.predict" title="Link to this definition">¶</a></dt>
<dd><p>Predict subtitution values for token masks.</p>
<p><strong>Important:</strong> <code class="docutils literal notranslate"><span class="pre">source</span></code> is modified as a side-effect of this method.
Use <code class="xref py py-meth docutils literal notranslate"><span class="pre">clone()</span></code> on the <code class="docutils literal notranslate"><span class="pre">source</span></code> document
passed to this method to preserve the original if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.TokenContainer" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenContainer</span></code></a></span>) – the source document, sentence, or span for which to
substitute values</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction" title="zensols.deepnlp.transformer.mask.Prediction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Prediction</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.MaskFiller.resource">
<span class="sig-name descname"><span class="pre">resource</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource" title="zensols.deepnlp.transformer.resource.TransformerResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerResource</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.MaskFiller.resource" title="Link to this definition">¶</a></dt>
<dd><p>A container class with the Huggingface tokenizer and model.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.Prediction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.mask.</span></span><span class="sig-name descname"><span class="pre">Prediction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cont</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masked_tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/mask.html#Prediction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.mask.Prediction" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>A container class for masked token predictions produced by
<a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller" title="zensols.deepnlp.transformer.mask.MaskFiller"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaskFiller</span></code></a>.  This class offers many ways to get the predictions,
including getting the sentences as instances of
<a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.TokenContainer" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenContainer</span></code></a> by using it as an iterable.</p>
<p>The sentences are also available as the <code class="docutils literal notranslate"><span class="pre">pred_sentences</span></code> key when using
<a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable.asdict" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.Prediction.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cont</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masked_tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.mask.Prediction.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.Prediction.cont">
<span class="sig-name descname"><span class="pre">cont</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.TokenContainer" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenContainer</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.Prediction.cont" title="Link to this definition">¶</a></dt>
<dd><p>The document, sentence or span to predict masked tokens.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.Prediction.df">
<span class="sig-name descname"><span class="pre">df</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.Prediction.df" title="Link to this definition">¶</a></dt>
<dd><p>The predictions with dataframe columns:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>: the <em>k</em> in the top-<em>k</em> highest scored masked token match</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mask_id</span></code>: the N-th masked token in the source ordered by position</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">token</span></code>: the predicted token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">score</span></code>: the score of the prediction (<code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, higher the better)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.Prediction.get_container">
<span class="sig-name descname"><span class="pre">get_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/mask.html#Prediction.get_container"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.mask.Prediction.get_container" title="Link to this definition">¶</a></dt>
<dd><p>Get the <em>k</em>-th top scored sentence.  This method should be called
only once for each instance since it modifies the tokens of the
container for each invocation.</p>
<p>A client may call this method as many times as necessary (i.e. for
multiple values of <code class="docutils literal notranslate"><span class="pre">k</span></code>) since :obj:<code class="docutils literal notranslate"><span class="pre">cont</span></code> tokens are modified while
retaining the original masked tokens <a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.masked_tokens" title="zensols.deepnlp.transformer.mask.Prediction.masked_tokens"><code class="xref py py-obj docutils literal notranslate"><span class="pre">masked_tokens</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>k</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – as <em>k</em> increases the less likely the mask substitutions, and
thus sentence; <em>k</em> = 0 is the most likely given the sentence
and masks</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.TokenContainer" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenContainer</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.Prediction.get_tokens">
<span class="sig-name descname"><span class="pre">get_tokens</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/mask.html#Prediction.get_tokens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.mask.Prediction.get_tokens" title="Link to this definition">¶</a></dt>
<dd><p>Return an iterable of the prediction coupled with the token it
belongs to and its score.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference internal" href="#zensols.deepnlp.transformer.mask.TokenPrediction" title="zensols.deepnlp.transformer.mask.TokenPrediction"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenPrediction</span></code></a>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.Prediction.masked_token_dicts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">masked_token_dicts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.Prediction.masked_token_dicts" title="Link to this definition">¶</a></dt>
<dd><p>A tuple of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.dict</span></code> each having token index, norm and
text data.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.Prediction.masked_tokens">
<span class="sig-name descname"><span class="pre">masked_tokens</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a><span class="pre">[</span><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.tok.FeatureToken" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureToken</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.Prediction.masked_tokens" title="Link to this definition">¶</a></dt>
<dd><p>The masked tokens matched.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.Prediction.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_masked_tokens=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_predicted_tokens=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_predicted_sentences=True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/mask.html#Prediction.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.mask.Prediction.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.write" title="zensols.deepnlp.transformer.mask.Prediction.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.write" title="zensols.deepnlp.transformer.mask.Prediction.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.TokenPrediction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.mask.</span></span><span class="sig-name descname"><span class="pre">TokenPrediction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prediction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/mask.html#TokenPrediction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.mask.TokenPrediction" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>Couples a masked model prediction token to which it belongs and its
score.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.TokenPrediction.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prediction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.mask.TokenPrediction.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.TokenPrediction.prediction">
<span class="sig-name descname"><span class="pre">prediction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.TokenPrediction.prediction" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.TokenPrediction.score">
<span class="sig-name descname"><span class="pre">score</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.TokenPrediction.score" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.mask.TokenPrediction.token">
<span class="sig-name descname"><span class="pre">token</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.tok.FeatureToken" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureToken</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.mask.TokenPrediction.token" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-zensols.deepnlp.transformer.optimizer">
<span id="zensols-deepnlp-transformer-optimizer-module"></span><h2>zensols.deepnlp.transformer.optimizer module<a class="headerlink" href="#module-zensols.deepnlp.transformer.optimizer" title="Link to this heading">¶</a></h2>
<p>Adapat huggingface transformer weight decay optimizer.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.optimizer.TransformerAdamFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.optimizer.</span></span><span class="sig-name descname"><span class="pre">TransformerAdamFactory</span></span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/optimizer.html#TransformerAdamFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.optimizer.TransformerAdamFactory" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.model.html#zensols.deeplearn.model.optimizer.ModelResourceFactory" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelResourceFactory</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.optimizer.TransformerSchedulerFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.optimizer.</span></span><span class="sig-name descname"><span class="pre">TransformerSchedulerFactory</span></span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/optimizer.html#TransformerSchedulerFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.optimizer.TransformerSchedulerFactory" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.model.html#zensols.deeplearn.model.optimizer.ModelResourceFactory" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelResourceFactory</span></code></a></p>
<p>Unified API to get any scheduler from its name.  This simply calls
<code class="xref py py-func docutils literal notranslate"><span class="pre">transformers.get_scheduler()</span></code> and calculates <code class="docutils literal notranslate"><span class="pre">num_training_steps</span></code> as
<code class="docutils literal notranslate"><span class="pre">epochs</span> <span class="pre">*</span> <span class="pre">batch_size</span></code>.</p>
<p>Documentation taken directly from <code class="docutils literal notranslate"><span class="pre">get_scheduler</span></code> function in the
<a class="reference external" href="https://github.com/huggingface/transformers/blob/4ba203d9d3ab5f6ae8def490cbea44b61798fc54/src/transformers/optimization.py#L229">PyTorch source tree</a>.</p>
</dd></dl>

</section>
<section id="module-zensols.deepnlp.transformer.pred">
<span id="zensols-deepnlp-transformer-pred-module"></span><h2>zensols.deepnlp.transformer.pred module<a class="headerlink" href="#module-zensols.deepnlp.transformer.pred" title="Link to this heading">¶</a></h2>
<p>Predictions output for transformer models.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.pred.TransformerSequencePredictionsDataFrameFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.pred.</span></span><span class="sig-name descname"><span class="pre">TransformerSequencePredictionsDataFrameFactory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stash</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_point_transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9223372036854775807</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_vectorizer_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedded_document_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/pred.html#TransformerSequencePredictionsDataFrameFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.pred.TransformerSequencePredictionsDataFrameFactory" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.result.html#zensols.deeplearn.result.pred.SequencePredictionsDataFrameFactory" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SequencePredictionsDataFrameFactory</span></code></a></p>
<p>Like the super class but create predictions for transformer sequence
models.  By default, transformer input is truncated at the model’s max token
length (usually 512 word piece tokens).  It then truncate the tokens that
are added as the <code class="docutils literal notranslate"><span class="pre">text</span></code> column from (configured by default)
<code class="xref py py-class docutils literal notranslate"><span class="pre">classify.TokenClassifyModelFacade</span></code>.</p>
<p>For all predictions where the sequence passed the model’s maximum, this
class maps that last word piece token output to the respective token in the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">predictions_dataframe_factory_class</span></code> instance’s <code class="docutils literal notranslate"><span class="pre">transform</span></code> output.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.pred.TransformerSequencePredictionsDataFrameFactory.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stash</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_point_transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9223372036854775807</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_vectorizer_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedded_document_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.pred.TransformerSequencePredictionsDataFrameFactory.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.pred.TransformerSequencePredictionsDataFrameFactory.embedded_document_attribute">
<span class="sig-name descname"><span class="pre">embedded_document_attribute</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.pred.TransformerSequencePredictionsDataFrameFactory.embedded_document_attribute" title="Link to this definition">¶</a></dt>
<dd><p>The <a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.batch.html#zensols.deeplearn.batch.domain.Batch" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Batch</span></code></a> attribute key for the
tensor that contains the vectorized document.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.deepnlp.transformer.resource">
<span id="zensols-deepnlp-transformer-resource-module"></span><h2>zensols.deepnlp.transformer.resource module<a class="headerlink" href="#module-zensols.deepnlp.transformer.resource" title="Link to this heading">¶</a></h2>
<p>Provide BERT embeddings on a per sentence level.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.resource.</span></span><span class="sig-name descname"><span class="pre">TransformerError</span></span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/resource.html#TransformerError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.html#zensols.deeplearn.domain.DeepLearnError" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeepLearnError</span></code></a></p>
<p>Raised for any transformer specific errors in this and child modules of
the parent.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerError.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerError.__annotations__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerError.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'zensols.deepnlp.transformer.resource'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerError.__module__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.resource.</span></span><span class="sig-name descname"><span class="pre">TransformerResource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torch_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cased=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trainable=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer_args=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_args=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_class='transformers.AutoModel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer_class='transformers.AutoTokenizer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/resource.html#TransformerResource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.persist.html#zensols.persist.annotation.PersistableContainer" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PersistableContainer</span></code></a>, <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>A container base class that allows configuration and creates various
huggingface models.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">torch_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cased=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trainable=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer_args=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_args=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_class='transformers.AutoModel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer_class='transformers.AutoTokenizer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.args">
<span class="sig-name descname"><span class="pre">args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.args" title="Link to this definition">¶</a></dt>
<dd><p>Additional arguments to pass to the <cite>from_pretrained</cite> method for the
tokenizer and the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.cache">
<span class="sig-name descname"><span class="pre">cache</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.InitVar" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">InitVar</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.cache" title="Link to this definition">¶</a></dt>
<dd><p>When set to <code class="docutils literal notranslate"><span class="pre">True</span></code> cache a global space model using the parameters from
the first instance creation.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.cache_dir">
<span class="sig-name descname"><span class="pre">cache_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.cache_dir" title="Link to this definition">¶</a></dt>
<dd><p>The directory that is contains the BERT model(s).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.cached">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cached</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.cached" title="Link to this definition">¶</a></dt>
<dd><p>If the model is cached.</p>
<dl class="field-list simple">
<dt class="field-odd">See<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.cache" title="zensols.deepnlp.transformer.resource.TransformerResource.cache"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cache</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.cased">
<span class="sig-name descname"><span class="pre">cased</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.cased" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> for case sensitive models, <code class="docutils literal notranslate"><span class="pre">False</span></code> (default) otherwise.  The
negated value of it is also used as the <code class="docutils literal notranslate"><span class="pre">do_lower_case</span></code> parameter in the
<code class="docutils literal notranslate"><span class="pre">*.from_pretrained</span></code> calls to huggingface transformers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/resource.html#TransformerResource.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.clear" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PreTrainedModel</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.model" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.model_args">
<span class="sig-name descname"><span class="pre">model_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.model_args" title="Link to this definition">¶</a></dt>
<dd><p>Additional arguments to pass to the <cite>from_pretrained</cite> method for the
model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.model_class">
<span class="sig-name descname"><span class="pre">model_class</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'transformers.AutoModel'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.model_class" title="Link to this definition">¶</a></dt>
<dd><p>The model fully qualified class used to create models with the
<code class="docutils literal notranslate"><span class="pre">from_pretrained</span></code> static method.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.model_id">
<span class="sig-name descname"><span class="pre">model_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.model_id" title="Link to this definition">¶</a></dt>
<dd><p>The ID of the model (i.e. <code class="docutils literal notranslate"><span class="pre">bert-base-uncased</span></code>).  If this is not set, is
derived from the <code class="docutils literal notranslate"><span class="pre">model_name</span></code> and <code class="docutils literal notranslate"><span class="pre">case</span></code>.</p>
<p>Token embeding using <a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding" title="zensols.deepnlp.transformer.embed.TransformerEmbedding"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerEmbedding</span></code></a> as been tested with:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bert-base-cased</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bert-large-cased</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">roberta-base</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distilbert-base-cased</span></code></p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">See<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://huggingface.co/transformers/pretrained_models.html">Pretrained Models</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the model given by the configuration.  Used for debugging.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.tokenizer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tokenizer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PreTrainedTokenizer</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.tokenizer" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.tokenizer_args">
<span class="sig-name descname"><span class="pre">tokenizer_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.tokenizer_args" title="Link to this definition">¶</a></dt>
<dd><p>Additional arguments to pass to the <cite>from_pretrained</cite> method for the
tokenizer.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.tokenizer_class">
<span class="sig-name descname"><span class="pre">tokenizer_class</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'transformers.AutoTokenizer'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.tokenizer_class" title="Link to this definition">¶</a></dt>
<dd><p>The model fully qualified class used to create tokenizers with the
<code class="docutils literal notranslate"><span class="pre">from_pretrained</span></code> static method.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.torch_config">
<span class="sig-name descname"><span class="pre">torch_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.html#zensols.deeplearn.torchconfig.TorchConfig" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TorchConfig</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.torch_config" title="Link to this definition">¶</a></dt>
<dd><p>The config device used to copy the embedding data.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.resource.TransformerResource.trainable">
<span class="sig-name descname"><span class="pre">trainable</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.resource.TransformerResource.trainable" title="Link to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">False</span></code> the weights on the transformer model are frozen and the use
of the model (including in subclasses) turn off autograd when executing..</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.deepnlp.transformer.tokenizer">
<span id="zensols-deepnlp-transformer-tokenizer-module"></span><h2>zensols.deepnlp.transformer.tokenizer module<a class="headerlink" href="#module-zensols.deepnlp.transformer.tokenizer" title="Link to this heading">¶</a></h2>
<p>The tokenizer object.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.tokenizer.</span></span><span class="sig-name descname"><span class="pre">TransformerDocumentTokenizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_piece_token_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/tokenizer.html#TransformerDocumentTokenizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.persist.html#zensols.persist.annotation.PersistableContainer" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PersistableContainer</span></code></a></p>
<p>Creates instances of <code class="xref py py-class docutils literal notranslate"><span class="pre">TokenziedFeatureDocument</span></code> using a
HuggingFace <code class="xref py py-class docutils literal notranslate"><span class="pre">PreTrainedTokenizer</span></code>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.DEFAULT_PARAMS">
<span class="sig-name descname"><span class="pre">DEFAULT_PARAMS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">ClassVar</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'is_split_into_words':</span> <span class="pre">True,</span> <span class="pre">'padding':</span> <span class="pre">'longest',</span> <span class="pre">'return_offsets_mapping':</span> <span class="pre">True,</span> <span class="pre">'return_special_tokens_mask':</span> <span class="pre">True}</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.DEFAULT_PARAMS" title="Link to this definition">¶</a></dt>
<dd><p>Default parameters for the HuggingFace tokenizer.  These get overriden by
the <code class="docutils literal notranslate"><span class="pre">tokenizer_kwargs</span></code> in <a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.tokenize" title="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.tokenize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tokenize()</span></code></a> and the processing of value
<a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.word_piece_token_length" title="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.word_piece_token_length"><code class="xref py py-obj docutils literal notranslate"><span class="pre">word_piece_token_length</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_piece_token_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.all_special_tokens">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_special_tokens</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.13)"><span class="pre">Set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.all_special_tokens" title="Link to this definition">¶</a></dt>
<dd><p>Special tokens used by the model (such BERT’s as <code class="docutils literal notranslate"><span class="pre">[CLS]</span></code> and
<code class="docutils literal notranslate"><span class="pre">[SEP]</span></code> tokens).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.feature_id">
<span class="sig-name descname"><span class="pre">feature_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'text'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.feature_id" title="Link to this definition">¶</a></dt>
<dd><p>The feature ID to use for token string values from
<a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.tok.FeatureToken" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureToken</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.id2tok">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id2tok</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.id2tok" title="Link to this definition">¶</a></dt>
<dd><p>A mapping from the HuggingFace tokenizer’s vocabulary to it’s word
piece equivalent.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.params">
<span class="sig-name descname"><span class="pre">params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">,</span> <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.params" title="Link to this definition">¶</a></dt>
<dd><p>Additional parameters given to the
<code class="xref py py-class docutils literal notranslate"><span class="pre">transformers.PreTrainedTokenizer</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.pretrained_tokenizer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pretrained_tokenizer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PreTrainedTokenizer</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.pretrained_tokenizer" title="Link to this definition">¶</a></dt>
<dd><p>The HuggingFace tokenized used to create tokenized documents.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.resource">
<span class="sig-name descname"><span class="pre">resource</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource" title="zensols.deepnlp.transformer.resource.TransformerResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerResource</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.resource" title="Link to this definition">¶</a></dt>
<dd><p>Contains the model used to create the tokenizer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.token_max_length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">token_max_length</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.token_max_length" title="Link to this definition">¶</a></dt>
<dd><p>The word piece token maximum length supported by the model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.tokenize">
<span class="sig-name descname"><span class="pre">tokenize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/tokenizer.html#TransformerDocumentTokenizer.tokenize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.tokenize" title="Link to this definition">¶</a></dt>
<dd><p>Tokenize a feature document in a form that’s easy to inspect and
provide to <a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding" title="zensols.deepnlp.transformer.embed.TransformerEmbedding"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerEmbedding</span></code></a> to transform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>doc</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureDocument" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocument</span></code></a></span>) – the document to tokenize</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument" title="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedFeatureDocument</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.word_piece_token_length">
<span class="sig-name descname"><span class="pre">word_piece_token_length</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.word_piece_token_length" title="Link to this definition">¶</a></dt>
<dd><p>The max number of word piece tokens.  The word piece length is always the
same or greater in count than linguistic tokens because the word piece
algorithm tokenizes on characters.</p>
<p>If this value is less than 0, than do not fix sentence lengths.  If the
value is 0 (default), then truncate to the model’s longest max lenght.
Otherwise, if this value is <code class="docutils literal notranslate"><span class="pre">None</span></code>, set the length to the model’s longest
max length using the model’s <code class="docutils literal notranslate"><span class="pre">model_max_length</span></code> value.</p>
<p>Setting this to a value to 0, making documents multi-length, has the
potential of creating token spans longer than the model can tolerate
(usually 512 word piece tokens).  In these cases, this value must be set to
(or lower) than the model’s <code class="docutils literal notranslate"><span class="pre">model_max_length</span></code>.</p>
<p>Tokenization padding is on by default.</p>
<dl class="field-list simple">
<dt class="field-odd">See<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://huggingface.co/docs/transformers/pad_truncation">HF Docs</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.deepnlp.transformer.vectorizers">
<span id="zensols-deepnlp-transformer-vectorizers-module"></span><h2>zensols.deepnlp.transformer.vectorizers module<a class="headerlink" href="#module-zensols.deepnlp.transformer.vectorizers" title="Link to this heading">¶</a></h2>
<p>Contains classes that are used to vectorize documents in to transformer
embeddings.</p>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.vectorizers.</span></span><span class="sig-name descname"><span class="pre">DocumentEmbeddingFeatureVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'{norm}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_feature_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">frozenset({'norm'})</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#DocumentEmbeddingFeatureVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer" title="zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerEmbeddingFeatureVectorizer</span></code></a></p>
<p>Vectorizes a feature from each token as a single sentence document.  It
does this by tracking the sentence and token positions that have tokens with
the necessary features to create what becomes sentences to parse and
vectorize.  During decoding, each pooled sentence’s embedding is added to
the respective position in the returned data.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[str]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'transformer</span> <span class="pre">document</span> <span class="pre">embedding'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.DESCRIPTION" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.FEATURE_TYPE">
<span class="sig-name descname"><span class="pre">FEATURE_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[TextFeatureType]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.FEATURE_TYPE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'{norm}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_feature_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">frozenset({'norm'})</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.token_feature_ids">
<span class="sig-name descname"><span class="pre">token_feature_ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Set[str]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">frozenset({'norm'})</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.token_feature_ids" title="Link to this definition">¶</a></dt>
<dd><p>The features IDs used in <a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.token_pattern" title="zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.token_pattern"><code class="xref py py-obj docutils literal notranslate"><span class="pre">token_pattern</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.token_pattern">
<span class="sig-name descname"><span class="pre">token_pattern</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'{norm}'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.token_pattern" title="Link to this definition">¶</a></dt>
<dd><p>The <code class="xref py py-meth docutils literal notranslate"><span class="pre">builtins.str.format()</span></code> string used to format the sentence to be
parsed and vectorized.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.DocumentMappedTransformerFeatureContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.vectorizers.</span></span><span class="sig-name descname"><span class="pre">DocumentMappedTransformerFeatureContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sent_len</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#DocumentMappedTransformerFeatureContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.DocumentMappedTransformerFeatureContext" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext" title="zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerFeatureContext</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.DocumentMappedTransformerFeatureContext.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sent_len</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#DocumentMappedTransformerFeatureContext.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.DocumentMappedTransformerFeatureContext.__init__" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Params feature_id<span class="colon">:</span></dt>
<dd class="field-odd"><p>the feature ID used to identify this context</p>
</dd>
<dt class="field-even">Params document<span class="colon">:</span></dt>
<dd class="field-even"><p>document used to create the transformer embeddings</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.vectorizers.</span></span><span class="sig-name descname"><span class="pre">LabelTransformerFeatureVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#LabelTransformerFeatureVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer" title="zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerFeatureVectorizer</span></code></a></p>
<p>A base class for vectorizing by mapping tokens to transformer consumable
word piece tokens.  This includes creating labels and masks.</p>
<dl class="field-list simple">
<dt class="field-odd">Shape<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a href="#id5"><span class="problematic" id="id6">|sentences|</span></a>, <a href="#id7"><span class="problematic" id="id8">|max word piece length|</span></a>)</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer.FEATURE_TYPE">
<span class="sig-name descname"><span class="pre">FEATURE_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[TextFeatureType]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer.FEATURE_TYPE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer.is_labeler">
<span class="sig-name descname"><span class="pre">is_labeler</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer.is_labeler" title="Link to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, make this a labeling specific vectorizer.  Otherwise,
certain layers will use the output of the vectorizer as features rather than
the labels.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.vectorizers.</span></span><span class="sig-name descname"><span class="pre">TransformerEmbeddingFeatureVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerEmbeddingFeatureVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer" title="zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerFeatureVectorizer</span></code></a></p>
<p>A feature vectorizer used to create transformer (i.e. BERT) embeddings.
The class uses the <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.embed_model" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.embed_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">embed_model</span></code></a>, which is of type
<a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding" title="zensols.deepnlp.transformer.embed.TransformerEmbedding"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerEmbedding</span></code></a>.</p>
<p>Note the encoding input ideally are sentences shorter than 512 tokens.
However, this vectorizer can accommodate both <code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureSentence</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocument</span></code> instances.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[str]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'transformer</span> <span class="pre">document</span> <span class="pre">embedding'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer.DESCRIPTION" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer.FEATURE_TYPE">
<span class="sig-name descname"><span class="pre">FEATURE_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[TextFeatureType]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer.FEATURE_TYPE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.vectorizers.</span></span><span class="sig-name descname"><span class="pre">TransformerExpanderFeatureContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contexts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerExpanderFeatureContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext" title="zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerFeatureContext</span></code></a></p>
<p>A vectorizer feature context used with
<a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer" title="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerExpanderFeatureVectorizer</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contexts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerExpanderFeatureContext.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext.__init__" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Params feature_id<span class="colon">:</span></dt>
<dd class="field-odd"><p>the feature ID used to identify this context</p>
</dd>
<dt class="field-even">Params contexts<span class="colon">:</span></dt>
<dd class="field-even"><p>subordinate contexts given to
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiFeatureContext</span></code></p>
</dd>
<dt class="field-odd">Params document<span class="colon">:</span></dt>
<dd class="field-odd"><p>document used to create the transformer embeddings</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext.contexts">
<span class="sig-name descname"><span class="pre">contexts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code></a><span class="pre">[</span><a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.vectorize.html#zensols.deeplearn.vectorize.domain.FeatureContext" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureContext</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">Field(name=None,type=None,default=&lt;dataclasses._MISSING_TYPE</span> <span class="pre">object&gt;,default_factory=&lt;dataclasses._MISSING_TYPE</span> <span class="pre">object&gt;,init=True,repr=True,hash=None,compare=True,metadata=mappingproxy({}),kw_only=&lt;dataclasses._MISSING_TYPE</span> <span class="pre">object&gt;,_field_type=None)</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext.contexts" title="Link to this definition">¶</a></dt>
<dd><p>The subordinate contexts.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext.deallocate">
<span class="sig-name descname"><span class="pre">deallocate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerExpanderFeatureContext.deallocate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext.deallocate" title="Link to this definition">¶</a></dt>
<dd><p>Deallocate all resources for this instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.vectorizers.</span></span><span class="sig-name descname"><span class="pre">TransformerExpanderFeatureVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delegate_feature_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerExpanderFeatureVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer" title="zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerFeatureVectorizer</span></code></a></p>
<p>A vectorizer that expands lingustic feature vectors to their respective
locations as word piece token vectors.</p>
<p>This is used to concatenate lingustic features with Bert (and other
transformer) embeddings.  Each lingustic token is copied in the word piece
token location across all vectorizers and sentences.</p>
<dl class="field-list simple">
<dt class="field-odd">Shape<span class="colon">:</span></dt>
<dd class="field-odd"><p>(-1, token length, X), where X is the sum of all the delegate
shapes across all three dimensions</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[str]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'transformer</span> <span class="pre">expander'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.DESCRIPTION" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.FEATURE_TYPE">
<span class="sig-name descname"><span class="pre">FEATURE_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[TextFeatureType]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.FEATURE_TYPE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delegate_feature_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.delegate_feature_ids">
<span class="sig-name descname"><span class="pre">delegate_feature_ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple[str]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.delegate_feature_ids" title="Link to this definition">¶</a></dt>
<dd><p>A list of feature IDs of vectorizers whose output will be expanded.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.delegates">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delegates</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">EncodableFeatureVectorizer</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.delegates" title="Link to this definition">¶</a></dt>
<dd><p>The delegates used for encoding and decoding the lingustic features.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.vectorizers.</span></span><span class="sig-name descname"><span class="pre">TransformerFeatureContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerFeatureContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.vectorize.html#zensols.deeplearn.vectorize.domain.FeatureContext" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureContext</span></code></a>, <a class="reference external" href="https://plandes.github.io/util/api/zensols.persist.html#zensols.persist.dealloc.Deallocatable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Deallocatable</span></code></a></p>
<p>A vectorizer feature contex used with
<a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer" title="zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerEmbeddingFeatureVectorizer</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerFeatureContext.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.__init__" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Params feature_id<span class="colon">:</span></dt>
<dd class="field-odd"><p>the feature ID used to identify this context</p>
</dd>
<dt class="field-even">Params document<span class="colon">:</span></dt>
<dd class="field-even"><p>document used to create the transformer embeddings</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.deallocate">
<span class="sig-name descname"><span class="pre">deallocate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerFeatureContext.deallocate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.deallocate" title="Link to this definition">¶</a></dt>
<dd><p>Deallocate all resources for this instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.get_document">
<span class="sig-name descname"><span class="pre">get_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vectorizer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerFeatureContext.get_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.get_document" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument" title="zensols.deepnlp.transformer.domain.TokenizedDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedDocument</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.get_feature_document">
<span class="sig-name descname"><span class="pre">get_feature_document</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerFeatureContext.get_feature_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.get_feature_document" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureDocument" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocument</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.vectorizers.</span></span><span class="sig-name descname"><span class="pre">TransformerFeatureVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerFeatureVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zensols.deepnlp.vectorize.html#zensols.deepnlp.vectorize.embed.EmbeddingFeatureVectorizer" title="zensols.deepnlp.vectorize.embed.EmbeddingFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmbeddingFeatureVectorizer</span></code></a>, <a class="reference internal" href="zensols.deepnlp.vectorize.html#zensols.deepnlp.vectorize.manager.FeatureDocumentVectorizer" title="zensols.deepnlp.vectorize.manager.FeatureDocumentVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocumentVectorizer</span></code></a></p>
<p>Base class for classes that vectorize transformer models.  This class
also tokenizes documents.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.encode_tokenized">
<span class="sig-name descname"><span class="pre">encode_tokenized</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.encode_tokenized" title="Link to this definition">¶</a></dt>
<dd><p>Whether to tokenize the document on encoding.  Set this to <code class="docutils literal notranslate"><span class="pre">True</span></code> only
if the huggingface model ID (i.e. <code class="docutils literal notranslate"><span class="pre">bert-base-cased</span></code>) will not change after
vectorization/batching.</p>
<p>Setting this to <code class="docutils literal notranslate"><span class="pre">True</span></code> tells the vectorizer to tokenize during encoding,
and thus will speed experimentation by providing the tokenized tensors to
the model directly.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.feature_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">feature_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="zensols.deepnlp.vectorize.html#zensols.deepnlp.vectorize.manager.TextFeatureType" title="zensols.deepnlp.vectorize.manager.TextFeatureType"><span class="pre">TextFeatureType</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.feature_type" title="Link to this definition">¶</a></dt>
<dd><p>The type of feature this vectorizer generates.  This is used by
classes such as <code class="xref py py-class docutils literal notranslate"><span class="pre">EmbeddingNetworkModule</span></code>
to determine where to add the features, such as concating to the
embedding layer, join layer etc.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.is_labeler">
<span class="sig-name descname"><span class="pre">is_labeler</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.is_labeler" title="Link to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, make this a labeling specific vectorizer.  Otherwise,
certain layers will use the output of the vectorizer as features rather than
the labels.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.tokenize">
<span class="sig-name descname"><span class="pre">tokenize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerFeatureVectorizer.tokenize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.tokenize" title="Link to this definition">¶</a></dt>
<dd><p>Tokenize the document in to a token document used by the encoding
phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>doc</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureDocument" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocument</span></code></a></span>) – the document to be tokenized</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument" title="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedFeatureDocument</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.word_piece_token_length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">word_piece_token_length</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.word_piece_token_length" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.vectorizers.</span></span><span class="sig-name descname"><span class="pre">TransformerMaskFeatureVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bool'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerMaskFeatureVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer" title="zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">LabelTransformerFeatureVectorizer</span></code></a></p>
<p>Creates a mask of word piece tokens to <code class="docutils literal notranslate"><span class="pre">True</span></code> and special tokens and
padding to <code class="docutils literal notranslate"><span class="pre">False</span></code>.  This maps tokens to word piece tokens like
<a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer" title="zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerNominalFeatureVectorizer</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Shape<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a href="#id9"><span class="problematic" id="id10">|sentences|</span></a>, <a href="#id11"><span class="problematic" id="id12">|max word piece length|</span></a>)</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[str]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'transformer</span> <span class="pre">mask'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer.DESCRIPTION" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bool'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer.data_type">
<span class="sig-name descname"><span class="pre">data_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union[str,</span> <span class="pre">None,</span> <span class="pre">torch.dtype]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'bool'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer.data_type" title="Link to this definition">¶</a></dt>
<dd><p>The mask tensor type.  To use the int type that matches the resolution of
the manager’s <code class="xref py py-obj docutils literal notranslate"><span class="pre">torch_config</span></code>, use <code class="docutils literal notranslate"><span class="pre">DEFAULT_INT</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.vectorizers.</span></span><span class="sig-name descname"><span class="pre">TransformerNominalFeatureVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delegate_feature_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_all_tokens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'annotations'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerNominalFeatureVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.vectorize.html#zensols.deeplearn.vectorize.vectorizers.AggregateEncodableFeatureVectorizer" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">AggregateEncodableFeatureVectorizer</span></code></a>, <a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer" title="zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">LabelTransformerFeatureVectorizer</span></code></a></p>
<p>This creates word piece (maps to tokens) labels.  This class uses a
<code class="xref py py-class docutils literal notranslate"><span class="pre">NominalEncodedEncodableFeatureVectorizer`</span></code>
to map from string labels to their nominal long values.  This allows a
single instance and centralized location where the label mapping happens in
case other (non-transformer) components need to vectorize labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Shape<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a href="#id13"><span class="problematic" id="id14">|sentences|</span></a>, <a href="#id15"><span class="problematic" id="id16">|max word piece length|</span></a>)</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[str]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'transformer</span> <span class="pre">seq</span> <span class="pre">labeler'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.DESCRIPTION" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_labeler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delegate_feature_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_all_tokens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations_attribute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'annotations'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.annotations_attribute">
<span class="sig-name descname"><span class="pre">annotations_attribute</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'annotations'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.annotations_attribute" title="Link to this definition">¶</a></dt>
<dd><p>The attribute used to get the features from the
<code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureSentence</span></code>.  For example,
<code class="xref py py-class docutils literal notranslate"><span class="pre">TokenAnnotatedFeatureSentence</span></code> has an <code class="docutils literal notranslate"><span class="pre">annotations</span></code>
attribute.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.delegate_feature_id">
<span class="sig-name descname"><span class="pre">delegate_feature_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.delegate_feature_id" title="Link to this definition">¶</a></dt>
<dd><p>The feature ID for the aggregate encodeable feature vectorizer.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.label_all_tokens">
<span class="sig-name descname"><span class="pre">label_all_tokens</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.label_all_tokens" title="Link to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, label all word piece tokens with the corresponding
linguistic token label.  Otherwise, the default padded value is used, and
thus, ignored by the loss function when calculating loss.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/vectorizers.html#TransformerNominalFeatureVectorizer.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.write" title="zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.write" title="zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.deepnlp.transformer.wordpiece">
<span id="zensols-deepnlp-transformer-wordpiece-module"></span><h2>zensols.deepnlp.transformer.wordpiece module<a class="headerlink" href="#module-zensols.deepnlp.transformer.wordpiece" title="Link to this heading">¶</a></h2>
<p>Word piece mappings to feature tokens, sentences and documents.</p>
<p>There are often edges cases and tricky situations with certain model’s usage of
special tokens (i.e. <code class="docutils literal notranslate"><span class="pre">[CLS]</span></code>) and where they are used.  With this in mind,
this module attempts to:</p>
<blockquote>
<div><ul class="simple">
<li><p>Assist in debugging (works with detached <a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument" title="zensols.deepnlp.transformer.domain.TokenizedDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedDocument</span></code></a>) in
cases where token level embeddings are directly accessed, and</p></li>
<li><p>Map corresponding both token and sentence level embeddings to respective
origin natural langauge feature set data structures.</p></li>
</ul>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.wordpiece.</span></span><span class="sig-name descname"><span class="pre">CachingWordPieceFeatureDocumentFactory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_embeddings=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sent_embeddings=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stash=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hasher=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#CachingWordPieceFeatureDocumentFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory</span></code></a></p>
<p>Caches the documents and their embeddings in a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Stash</span></code>.  For those that are cached, the
embeddings are copied over to the passed document in <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.create" title="zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create()</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_embeddings=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sent_embeddings=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stash=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hasher=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#CachingWordPieceFeatureDocumentFactory.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clear the caching stash.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fdoc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdoc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#CachingWordPieceFeatureDocumentFactory.create"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.create" title="Link to this definition">¶</a></dt>
<dd><p>Create a document in to an object graph that relates word pieces to
feature tokens.  Note that if <code class="docutils literal notranslate"><span class="pre">tdoc</span></code> is provided, it must have been
tokenized from <code class="docutils literal notranslate"><span class="pre">fdoc</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdoc</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureDocument" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocument</span></code></a></span>) – the feature document used to create <cite>tdoc</cite></p></li>
<li><p><strong>tdoc</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument" title="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedFeatureDocument</span></code></a></span>) – a tokenized feature document generated by <code class="xref py py-meth docutils literal notranslate"><span class="pre">tokenize()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureDocument</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a data structure with the word piece information</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.hasher">
<span class="sig-name descname"><span class="pre">hasher</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/util/api/zensols.util.html#zensols.util.hasher.Hasher" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hasher</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.hasher" title="Link to this definition">¶</a></dt>
<dd><p>Used to hash the natural langauge text in to string keys.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.stash">
<span class="sig-name descname"><span class="pre">stash</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://plandes.github.io/util/api/zensols.persist.html#zensols.persist.domain.Stash" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stash</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.stash" title="Link to this definition">¶</a></dt>
<dd><p>The stash that persists the feature document instances.  If this is not
provided, no caching will happen.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPiece">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.wordpiece.</span></span><span class="sig-name descname"><span class="pre">WordPiece</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">word</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vocab_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPiece"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPiece" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/util/api/zensols.persist.html#zensols.persist.annotation.PersistableContainer" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PersistableContainer</span></code></a>, <a class="reference external" href="https://plandes.github.io/util/api/zensols.config.html#zensols.config.dictable.Dictable" title="(in Zensols Utilities v1.15.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code></a></p>
<p>The word piece data.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPiece.UNKNOWN_TOKEN">
<span class="sig-name descname"><span class="pre">UNKNOWN_TOKEN</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">ClassVar</span></code></a><span class="pre">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'[UNK]'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.UNKNOWN_TOKEN" title="Link to this definition">¶</a></dt>
<dd><p>The string used for out of vocabulary word piece tokens.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPiece.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">word</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vocab_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPiece.index">
<span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.index" title="Link to this definition">¶</a></dt>
<dd><p>The index of the word piece subword in the tokenization tensor, which
will have the same index in the output embeddings for
<a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.output" title="zensols.deepnlp.transformer.embed.TransformerEmbedding.output"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TransformerEmbedding.output</span></code></a> = <code class="docutils literal notranslate"><span class="pre">last_hidden_state</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPiece.is_unknown">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_unknown</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.is_unknown" title="Link to this definition">¶</a></dt>
<dd><p>Whether this token is out of vocabulary.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPiece.vocab_index">
<span class="sig-name descname"><span class="pre">vocab_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.vocab_index" title="Link to this definition">¶</a></dt>
<dd><p>The vocabulary index.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPiece.word">
<span class="sig-name descname"><span class="pre">word</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.word" title="Link to this definition">¶</a></dt>
<dd><p>The string representation of the word piece.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.wordpiece.</span></span><span class="sig-name descname"><span class="pre">WordPieceDocumentDecorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">word_piece_doc_factory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceDocumentDecorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.parser.FeatureDocumentDecorator" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocumentDecorator</span></code></a></p>
<p>Populates sentence and token embeddings in the documents.</p>
<dl class="field-list simple">
<dt class="field-odd">See<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">word_piece_doc_factory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator.decorate">
<span class="sig-name descname"><span class="pre">decorate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceDocumentDecorator.decorate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator.decorate" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator.word_piece_doc_factory">
<span class="sig-name descname"><span class="pre">word_piece_doc_factory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator.word_piece_doc_factory" title="Link to this definition">¶</a></dt>
<dd><p>The feature document factory that populates embeddings.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.wordpiece.</span></span><span class="sig-name descname"><span class="pre">WordPieceFeatureDocument</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sents</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacy_doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureDocument"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureDocument" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocument</span></code></a>, <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer" title="zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceTokenContainer</span></code></a></p>
<p>A document made up of word piece sentences.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sents</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacy_doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.copy_embedding">
<span class="sig-name descname"><span class="pre">copy_embedding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureDocument.copy_embedding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.copy_embedding" title="Link to this definition">¶</a></dt>
<dd><p>Copy embeddings (and children) from this instance to <code class="docutils literal notranslate"><span class="pre">target</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.embedding">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">embedding</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.embedding" title="Link to this definition">¶</a></dt>
<dd><p>The document embedding (see <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.embedding" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.embedding"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WordPieceFeatureSpan.embedding</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Shape<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a href="#id17"><span class="problematic" id="id18">|sentences|</span></a>, &lt;embedding dimension&gt;)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.tokenized">
<span class="sig-name descname"><span class="pre">tokenized</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">TokenizedFeatureDocument</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.tokenized" title="Link to this definition">¶</a></dt>
<dd><p>The tokenized feature document.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureDocument.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.write" title="Link to this definition">¶</a></dt>
<dd><p>Write the document and optionally sentence features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_sents</strong> – the number of sentences to write</p></li>
<li><p><strong>n_tokens</strong> – the number of tokens to print across all sentences</p></li>
<li><p><strong>include_original</strong> – whether to include the original text</p></li>
<li><p><strong>include_normalized</strong> – whether to include the normalized text</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.wordpiece.</span></span><span class="sig-name descname"><span class="pre">WordPieceFeatureDocumentFactory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_embeddings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sent_embeddings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureDocumentFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Create instances of <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureDocument</span></code></a> from
<a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureDocument" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocument</span></code></a> instances.  It does this by
iterating through a feature document data structure and adding
<code class="docutils literal notranslate"><span class="pre">WordPiece*</span></code> object data and optionally adding the corresponding sentence
and/or token level embeddings.</p>
<p>The embeddings can also be added with <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_token_embeddings" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_token_embeddings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_token_embeddings()</span></code></a> and
<a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_sent_embeddings" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_sent_embeddings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_sent_embeddings()</span></code></a> individually.  If all you want are the sentence
level embeddings, you can use <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_sent_embeddings" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_sent_embeddings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_sent_embeddings()</span></code></a> on a
<a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureSentence" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureSentence</span></code></a> instance.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_embeddings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sent_embeddings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_sent_embeddings">
<span class="sig-name descname"><span class="pre">add_sent_embeddings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureDocumentFactory.add_sent_embeddings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_sent_embeddings" title="Link to this definition">¶</a></dt>
<dd><p>Add sentence embeddings to the sentences of <code class="docutils literal notranslate"><span class="pre">doc</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>doc</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureDocument</span></code></a>, <a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureDocument" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocument</span></code></a>]</span>) – sentences of this doc have <code class="docutils literal notranslate"><span class="pre">embeddings</span></code> set to the
correpsonding sentence tensor with shape <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">&lt;embedding</span>
<span class="pre">dimension&gt;)</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_token_embeddings">
<span class="sig-name descname"><span class="pre">add_token_embeddings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureDocumentFactory.add_token_embeddings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_token_embeddings" title="Link to this definition">¶</a></dt>
<dd><p>Add token embeddings to the sentences of <code class="docutils literal notranslate"><span class="pre">doc</span></code>.  This assumes
tokens are of type <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureToken</span></code></a> since the token
indices are needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>doc</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureDocument</span></code></a></span>) – sentences of this doc have <code class="docutils literal notranslate"><span class="pre">embeddings</span></code> set to the
correpsonding sentence tensor with shape (1, &lt;embedding
dimension&gt;).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fdoc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdoc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureDocumentFactory.create"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.create" title="Link to this definition">¶</a></dt>
<dd><p>Create a document in to an object graph that relates word pieces to
feature tokens.  Note that if <code class="docutils literal notranslate"><span class="pre">tdoc</span></code> is provided, it must have been
tokenized from <code class="docutils literal notranslate"><span class="pre">fdoc</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdoc</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureDocument" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureDocument</span></code></a></span>) – the feature document used to create <cite>tdoc</cite></p></li>
<li><p><strong>tdoc</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument" title="zensols.deepnlp.transformer.domain.TokenizedFeatureDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenizedFeatureDocument</span></code></a></span>) – a tokenized feature document generated by <code class="xref py py-meth docutils literal notranslate"><span class="pre">tokenize()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureDocument</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a data structure with the word piece information</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.embed_model">
<span class="sig-name descname"><span class="pre">embed_model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding" title="zensols.deepnlp.transformer.embed.TransformerEmbedding"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerEmbedding</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.embed_model" title="Link to this definition">¶</a></dt>
<dd><p>Used to populate the embeddings in <code class="docutils literal notranslate"><span class="pre">WordPiece*</span></code> classes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.populate">
<span class="sig-name descname"><span class="pre">populate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureDocumentFactory.populate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.populate" title="Link to this definition">¶</a></dt>
<dd><p>Populate sentence embeddings in a document by first feature parsing a
new document with <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.create" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create()</span></code></a> and then copying the embeddings with
<code class="xref py py-meth docutils literal notranslate"><span class="pre">WordPieceFeatureDocument.copy_embeddings()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>truncate</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – if sentence lengths differ (i.e. from using different
models to chunk sentences) trim the longer document to
match the shorter</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.sent_embeddings">
<span class="sig-name descname"><span class="pre">sent_embeddings</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.sent_embeddings" title="Link to this definition">¶</a></dt>
<dd><p><cite>.WordPieceFeatureSentence.embeddings</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether to add class</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.token_embeddings">
<span class="sig-name descname"><span class="pre">token_embeddings</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.token_embeddings" title="Link to this definition">¶</a></dt>
<dd><p>Whether to add <code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureToken.embeddings</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.tokenizer">
<span class="sig-name descname"><span class="pre">tokenizer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer" title="zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer</span></code></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.tokenizer" title="Link to this definition">¶</a></dt>
<dd><p>Used to tokenize documents that aren’t already in <code class="xref py py-meth docutils literal notranslate"><span class="pre">__call__()</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSentence">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.wordpiece.</span></span><span class="sig-name descname"><span class="pre">WordPieceFeatureSentence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacy_span</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureSentence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSentence" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureSpan</span></code></a>, <a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureSentence" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureSentence</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSentence.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacy_span</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSentence.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.wordpiece.</span></span><span class="sig-name descname"><span class="pre">WordPieceFeatureSpan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacy_span</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureSpan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.FeatureSentence" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureSentence</span></code></a>, <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer" title="zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceTokenContainer</span></code></a></p>
<p>A sentence made up of word pieces.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tokens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacy_span</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.copy_embedding">
<span class="sig-name descname"><span class="pre">copy_embedding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureSpan.copy_embedding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.copy_embedding" title="Link to this definition">¶</a></dt>
<dd><p>Copy embeddings (and children) from this instance to <code class="docutils literal notranslate"><span class="pre">target</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.embedding">
<span class="sig-name descname"><span class="pre">embedding</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.embedding" title="Link to this definition">¶</a></dt>
<dd><p>The sentence embedding level (i.e. <code class="docutils literal notranslate"><span class="pre">[CLS]</span></code>) embedding from the
transformer.</p>
<dl class="field-list simple">
<dt class="field-odd">Shape<span class="colon">:</span></dt>
<dd class="field-odd"><p>(&lt;embedding dimension&gt;,)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureSpan.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.write" title="Link to this definition">¶</a></dt>
<dd><p>Write the text container.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_original</strong> – whether to include the original text</p></li>
<li><p><strong>include_normalized</strong> – whether to include the normalized text</p></li>
<li><p><strong>n_tokens</strong> – the number of tokens to write</p></li>
<li><p><strong>inline</strong> – whether to print the tokens on one line each</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.wordpiece.</span></span><span class="sig-name descname"><span class="pre">WordPieceFeatureToken</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_sent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lexspan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">words</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureToken"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.tok.FeatureToken" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureToken</span></code></a></p>
<p>The token and the word pieces that repesent it.</p>
<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_sent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lexspan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">words</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureToken.clone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.clone" title="Link to this definition">¶</a></dt>
<dd><p>Clone an instance of this token.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cls</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></span>) – the type of the new instance</p></li>
<li><p><strong>kwargs</strong> – arguments to add to as attributes to the clone</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.tok.FeatureToken" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureToken</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the cloned instance of this instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.copy_embedding">
<span class="sig-name descname"><span class="pre">copy_embedding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureToken.copy_embedding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.copy_embedding" title="Link to this definition">¶</a></dt>
<dd><p>Copy embedding (and children) from this instance to <code class="docutils literal notranslate"><span class="pre">target</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.detach">
<span class="sig-name descname"><span class="pre">detach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureToken.detach"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.detach" title="Link to this definition">¶</a></dt>
<dd><p>Create a detected token (i.e. from spaCy artifacts).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature_ids</strong> – the features to write, which defaults to
<code class="xref py py-obj docutils literal notranslate"><span class="pre">FEATURE_IDS</span></code></p></li>
<li><p><strong>skip_missing</strong> – whether to only keep <code class="docutils literal notranslate"><span class="pre">feature_ids</span></code></p></li>
<li><p><strong>cls</strong> – the type of the new instance</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.tok.FeatureToken" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureToken</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.embedding">
<span class="sig-name descname"><span class="pre">embedding</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.embedding" title="Link to this definition">¶</a></dt>
<dd><p>The embedding for <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.words" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.words"><code class="xref py py-obj docutils literal notranslate"><span class="pre">words</span></code></a> after using the transformer.</p>
<dl class="field-list simple">
<dt class="field-odd">Shape<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a href="#id19"><span class="problematic" id="id20">|words|</span></a>, &lt;embedding dimension&gt;)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.indexes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">indexes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.indexes" title="Link to this definition">¶</a></dt>
<dd><p>The indexes of the word piece subwords (see <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.index" title="zensols.deepnlp.transformer.wordpiece.WordPiece.index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WordPiece.index</span></code></a>).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.is_unknown">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_unknown</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.is_unknown" title="Link to this definition">¶</a></dt>
<dd><p>Whether this token is out of vocabulary.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.token_embedding">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">token_embedding</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tensor</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.token_embedding" title="Link to this definition">¶</a></dt>
<dd><p>The embedding of this token, which is the sum of the word piece
embeddings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.word_iter">
<span class="sig-name descname"><span class="pre">word_iter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureToken.word_iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.word_iter" title="Link to this definition">¶</a></dt>
<dd><p>Return an iterable over the word pieces.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPiece" title="zensols.deepnlp.transformer.wordpiece.WordPiece"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPiece</span></code></a>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.words">
<span class="sig-name descname"><span class="pre">words</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple[WordPiece]</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.words" title="Link to this definition">¶</a></dt>
<dd><p>The word pieces that make up this token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">depth=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureToken.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.write" title="Link to this definition">¶</a></dt>
<dd><p>Write this instance as either a <code class="xref py py-class docutils literal notranslate"><span class="pre">Writable</span></code> or as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Dictable</span></code>.  If class attribute
<code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITABLE_DESCENDANTS</span></code> is set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, then use the
<a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.write" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method on children instead of writing the generated
dictionary.  Otherwise, write this instance by first creating a <code class="docutils literal notranslate"><span class="pre">dict</span></code>
recursively using <code class="xref py py-meth docutils literal notranslate"><span class="pre">asdict()</span></code>, then formatting the output.</p>
<p>If the attribute <code class="docutils literal notranslate"><span class="pre">_DICTABLE_WRITE_EXCLUDES</span></code> is set, those attributes
are removed from what is written in the <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.write" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method.</p>
<p>Note that this attribute will need to be set in all descendants in the
instance hierarchy since writing the object instance graph is done
recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depth</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – the starting indentation depth</p></li>
<li><p><strong>writer</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a></span>) – the writer to dump the content of this writable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.wordpiece.</span></span><span class="sig-name descname"><span class="pre">WordPieceFeatureVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_piece_doc_factory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raise'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="zensols.deepnlp.vectorize.html#zensols.deepnlp.vectorize.embed.EmbeddingFeatureVectorizer" title="zensols.deepnlp.vectorize.embed.EmbeddingFeatureVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmbeddingFeatureVectorizer</span></code></a></p>
<p>Uses the <code class="docutils literal notranslate"><span class="pre">embeddings</span></code> attributes added to documents, sentences and
tokens populated by <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory</span></code></a>.  Currently
only sentence sequences are supported.  For single sentence or token
classification, use <code class="xref py py-mod docutils literal notranslate"><span class="pre">zensols.deepnlp.vectorizers</span></code>.</p>
<p>If aggregated documents are given to the vectorizer, they are flattened into
sentences and vectorized in the same was a single document’s sentences would
be vectorized.  A batch is created for each document and only one batch is
created for singleton documents.</p>
<p>This embedding layer expects the following attribute settings to be left
with the defaults set: obj:<cite>encode_transformed</cite>, <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.fold_method" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.fold_method"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fold_method</span></code></a>,
<a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.decode_embedding" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.decode_embedding"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decode_embedding</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Shape<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a href="#id21"><span class="problematic" id="id22">|documents|</span></a>, <a href="#id23"><span class="problematic" id="id24">|sentences|</span></a>, <a href="#id25"><span class="problematic" id="id26">|embedding dimension|</span></a>)</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[str]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'wordpiece'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.DESCRIPTION" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.FEATURE_TYPE">
<span class="sig-name descname"><span class="pre">FEATURE_TYPE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar[TextFeatureType]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.FEATURE_TYPE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_transformed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode_embedding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_piece_doc_factory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raise'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.__init__" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.access">
<span class="sig-name descname"><span class="pre">access</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'raise'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.access" title="Link to this definition">¶</a></dt>
<dd><p>What to do when accessing the sentence embedding when encoding.  This is
one of:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">raise</span></code>: raises an error when missing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">add_missing</span></code>: create the embedding only if missing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clobber</span></code>: always create a new embedding by replacing (if existed)</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.decode_embedding">
<span class="sig-name descname"><span class="pre">decode_embedding</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.decode_embedding" title="Link to this definition">¶</a></dt>
<dd><p>Turn off the <a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.embed_model" title="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.embed_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">embed_model</span></code></a> forward pass to use the embeddings we
vectorized from the <code class="docutils literal notranslate"><span class="pre">embedding</span></code> attribute(s).  Keep the default.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.embed_model">
<span class="sig-name descname"><span class="pre">embed_model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">TransformerEmbedding</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.embed_model" title="Link to this definition">¶</a></dt>
<dd><p>This field is not applicable to this vectorizer–keep the default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.encode">
<span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceFeatureVectorizer.encode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.encode" title="Link to this definition">¶</a></dt>
<dd><p>Encode by combining documents in to one monolithic document when a
tuple is passed, otherwise default to the super class’s encode
functionality.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://plandes.github.io/deeplearn/api/zensols.deeplearn.vectorize.html#zensols.deeplearn.vectorize.domain.FeatureContext" title="(in General deep learing utility library v1.14.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FeatureContext</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.encode_transformed">
<span class="sig-name descname"><span class="pre">encode_transformed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.encode_transformed" title="Link to this definition">¶</a></dt>
<dd><p>This field is not applicable to this vectorizer–keep the default.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.fold_method">
<span class="sig-name descname"><span class="pre">fold_method</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'raise'</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.fold_method" title="Link to this definition">¶</a></dt>
<dd><p>This field is not applicable to this vectorizer–keep the default.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.word_piece_doc_factory">
<span class="sig-name descname"><span class="pre">word_piece_doc_factory</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">WordPieceFeatureDocumentFactory</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.word_piece_doc_factory" title="Link to this definition">¶</a></dt>
<dd><p>The feature document factory that populates embeddings.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.wordpiece.</span></span><span class="sig-name descname"><span class="pre">WordPieceTokenContainer</span></span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceTokenContainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.TokenContainer" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenContainer</span></code></a></p>
<p>Like <a class="reference external" href="https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols.nlp.container.TokenContainer" title="(in A utility library to assist in parsing natural language text. v1.12.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">TokenContainer</span></code></a> but contains word
pieces.</p>
<dl class="py property">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer.unknown_count">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unknown_count</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer.unknown_count" title="Link to this definition">¶</a></dt>
<dd><p>Return the number of out of vocabulary tokens in the container.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer.word_iter">
<span class="sig-name descname"><span class="pre">word_iter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer/wordpiece.html#WordPieceTokenContainer.word_iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer.word_iter" title="Link to this definition">¶</a></dt>
<dd><p>Return an iterable over the word pieces.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPiece" title="zensols.deepnlp.transformer.wordpiece.WordPiece"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordPiece</span></code></a>]</span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-zensols.deepnlp.transformer">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-zensols.deepnlp.transformer" title="Link to this heading">¶</a></h2>
<p>Contains classes that adapt the huggingface tranformers to the Zensols
deeplearning framework.</p>
<dl class="py function">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.normalize_huggingface_logging">
<span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.</span></span><span class="sig-name descname"><span class="pre">normalize_huggingface_logging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer.html#normalize_huggingface_logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.normalize_huggingface_logging" title="Link to this definition">¶</a></dt>
<dd><p>Make the :mod”<cite>transformers</cite> package use default logging.  Using this and
setting the <code class="docutils literal notranslate"><span class="pre">transformers</span></code> logging package to <code class="docutils literal notranslate"><span class="pre">ERROR</span></code> level logging has
the same effect as <a class="reference internal" href="#zensols.deepnlp.transformer.suppress_warnings" title="zensols.deepnlp.transformer.suppress_warnings"><code class="xref py py-meth docutils literal notranslate"><span class="pre">suppress_warnings()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.suppress_warnings">
<span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.</span></span><span class="sig-name descname"><span class="pre">suppress_warnings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer.html#suppress_warnings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.suppress_warnings" title="Link to this definition">¶</a></dt>
<dd><p>Suppress the <code class="docutils literal notranslate"><span class="pre">`Some</span> <span class="pre">weights</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">model</span> <span class="pre">checkpoint...`</span></code> warnings from
huggingface transformers.</p>
<dl class="field-list simple">
<dt class="field-odd">Ses<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#zensols.deepnlp.transformer.normalize_huggingface_logging" title="zensols.deepnlp.transformer.normalize_huggingface_logging"><code class="xref py py-func docutils literal notranslate"><span class="pre">normalize_huggingface_logging()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zensols.deepnlp.transformer.turn_off_huggingface_downloads">
<span class="sig-prename descclassname"><span class="pre">zensols.deepnlp.transformer.</span></span><span class="sig-name descname"><span class="pre">turn_off_huggingface_downloads</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/zensols/deepnlp/transformer.html#turn_off_huggingface_downloads"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zensols.deepnlp.transformer.turn_off_huggingface_downloads" title="Link to this definition">¶</a></dt>
<dd><p>Turn off automatic model checks and downloads.</p>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="zensols.deepnlp.vectorize.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">zensols.deepnlp.vectorize package</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="zensols.deepnlp.model.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">zensols.deepnlp.model package</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025 Paul Landes
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">zensols.deepnlp.transformer package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer.domain">zensols.deepnlp.transformer.domain module</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.__init__"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.attention_mask"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.attention_mask</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.boundary_tokens"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.boundary_tokens</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.deallocate"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.deallocate()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.detach"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.detach()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.from_tensor"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.from_tensor()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.get_wordpiece_count"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.get_wordpiece_count()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.input_ids"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.input_ids</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.is_empty"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.is_empty</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.map_to_word_pieces"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.map_to_word_pieces()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.map_word_pieces"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.map_word_pieces()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.offsets"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.offsets</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.params"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.params()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.shape"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.shape</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.tensor"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.tensor</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.token_type_ids"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.token_type_ids</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.truncate"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.truncate()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedDocument.write"><code class="docutils literal notranslate"><span class="pre">TokenizedDocument.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument"><code class="docutils literal notranslate"><span class="pre">TokenizedFeatureDocument</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.__init__"><code class="docutils literal notranslate"><span class="pre">TokenizedFeatureDocument.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.char_offsets"><code class="docutils literal notranslate"><span class="pre">TokenizedFeatureDocument.char_offsets</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.detach"><code class="docutils literal notranslate"><span class="pre">TokenizedFeatureDocument.detach()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.feature"><code class="docutils literal notranslate"><span class="pre">TokenizedFeatureDocument.feature</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.id2tok"><code class="docutils literal notranslate"><span class="pre">TokenizedFeatureDocument.id2tok</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.map_to_word_pieces"><code class="docutils literal notranslate"><span class="pre">TokenizedFeatureDocument.map_to_word_pieces()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.domain.TokenizedFeatureDocument.write"><code class="docutils literal notranslate"><span class="pre">TokenizedFeatureDocument.write()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer.embed">zensols.deepnlp.transformer.embed module</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.ALL_OUTPUT"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.ALL_OUTPUT</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.LAST_HIDDEN_STATE_OUTPUT"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.LAST_HIDDEN_STATE_OUTPUT</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.POOLER_OUTPUT"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.POOLER_OUTPUT</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.cache"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.cache</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.model"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.model</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.name"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.name</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.output"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.output</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.output_attentions"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.output_attentions</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.resource"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.resource</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.tokenize"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.tokenize()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.tokenizer"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.tokenizer</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.trainable"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.trainable</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.transform"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.transform()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.embed.TransformerEmbedding.vector_dimension"><code class="docutils literal notranslate"><span class="pre">TransformerEmbedding.vector_dimension</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer.layer">zensols.deepnlp.transformer.layer module</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer"><code class="docutils literal notranslate"><span class="pre">TransformerEmbeddingLayer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.MODULE_NAME"><code class="docutils literal notranslate"><span class="pre">TransformerEmbeddingLayer.MODULE_NAME</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerEmbeddingLayer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.deallocate"><code class="docutils literal notranslate"><span class="pre">TransformerEmbeddingLayer.deallocate()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerEmbeddingLayer.forward"><code class="docutils literal notranslate"><span class="pre">TransformerEmbeddingLayer.forward()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerSequence"><code class="docutils literal notranslate"><span class="pre">TransformerSequence</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerSequence.MODULE_NAME"><code class="docutils literal notranslate"><span class="pre">TransformerSequence.MODULE_NAME</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerSequence.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerSequence.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerSequence.deallocate"><code class="docutils literal notranslate"><span class="pre">TransformerSequence.deallocate()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings"><code class="docutils literal notranslate"><span class="pre">TransformerSequenceNetworkSettings</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerSequenceNetworkSettings.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings.decoder_settings"><code class="docutils literal notranslate"><span class="pre">TransformerSequenceNetworkSettings.decoder_settings</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.layer.TransformerSequenceNetworkSettings.get_module_class_name"><code class="docutils literal notranslate"><span class="pre">TransformerSequenceNetworkSettings.get_module_class_name()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer.mask">zensols.deepnlp.transformer.mask module</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller"><code class="docutils literal notranslate"><span class="pre">MaskFiller</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.__init__"><code class="docutils literal notranslate"><span class="pre">MaskFiller.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.feature_id"><code class="docutils literal notranslate"><span class="pre">MaskFiller.feature_id</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.feature_value"><code class="docutils literal notranslate"><span class="pre">MaskFiller.feature_value</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.k"><code class="docutils literal notranslate"><span class="pre">MaskFiller.k</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.predict"><code class="docutils literal notranslate"><span class="pre">MaskFiller.predict()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.MaskFiller.resource"><code class="docutils literal notranslate"><span class="pre">MaskFiller.resource</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction"><code class="docutils literal notranslate"><span class="pre">Prediction</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.__init__"><code class="docutils literal notranslate"><span class="pre">Prediction.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.cont"><code class="docutils literal notranslate"><span class="pre">Prediction.cont</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.df"><code class="docutils literal notranslate"><span class="pre">Prediction.df</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.get_container"><code class="docutils literal notranslate"><span class="pre">Prediction.get_container()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.get_tokens"><code class="docutils literal notranslate"><span class="pre">Prediction.get_tokens()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.masked_token_dicts"><code class="docutils literal notranslate"><span class="pre">Prediction.masked_token_dicts</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.masked_tokens"><code class="docutils literal notranslate"><span class="pre">Prediction.masked_tokens</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.Prediction.write"><code class="docutils literal notranslate"><span class="pre">Prediction.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.TokenPrediction"><code class="docutils literal notranslate"><span class="pre">TokenPrediction</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.TokenPrediction.__init__"><code class="docutils literal notranslate"><span class="pre">TokenPrediction.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.TokenPrediction.prediction"><code class="docutils literal notranslate"><span class="pre">TokenPrediction.prediction</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.TokenPrediction.score"><code class="docutils literal notranslate"><span class="pre">TokenPrediction.score</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.mask.TokenPrediction.token"><code class="docutils literal notranslate"><span class="pre">TokenPrediction.token</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer.optimizer">zensols.deepnlp.transformer.optimizer module</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.optimizer.TransformerAdamFactory"><code class="docutils literal notranslate"><span class="pre">TransformerAdamFactory</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.optimizer.TransformerSchedulerFactory"><code class="docutils literal notranslate"><span class="pre">TransformerSchedulerFactory</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer.pred">zensols.deepnlp.transformer.pred module</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.pred.TransformerSequencePredictionsDataFrameFactory"><code class="docutils literal notranslate"><span class="pre">TransformerSequencePredictionsDataFrameFactory</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.pred.TransformerSequencePredictionsDataFrameFactory.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerSequencePredictionsDataFrameFactory.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.pred.TransformerSequencePredictionsDataFrameFactory.embedded_document_attribute"><code class="docutils literal notranslate"><span class="pre">TransformerSequencePredictionsDataFrameFactory.embedded_document_attribute</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer.resource">zensols.deepnlp.transformer.resource module</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerError"><code class="docutils literal notranslate"><span class="pre">TransformerError</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerError.__annotations__"><code class="docutils literal notranslate"><span class="pre">TransformerError.__annotations__</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerError.__module__"><code class="docutils literal notranslate"><span class="pre">TransformerError.__module__</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource"><code class="docutils literal notranslate"><span class="pre">TransformerResource</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerResource.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.args"><code class="docutils literal notranslate"><span class="pre">TransformerResource.args</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.cache"><code class="docutils literal notranslate"><span class="pre">TransformerResource.cache</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.cache_dir"><code class="docutils literal notranslate"><span class="pre">TransformerResource.cache_dir</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.cached"><code class="docutils literal notranslate"><span class="pre">TransformerResource.cached</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.cased"><code class="docutils literal notranslate"><span class="pre">TransformerResource.cased</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.clear"><code class="docutils literal notranslate"><span class="pre">TransformerResource.clear()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.model"><code class="docutils literal notranslate"><span class="pre">TransformerResource.model</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.model_args"><code class="docutils literal notranslate"><span class="pre">TransformerResource.model_args</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.model_class"><code class="docutils literal notranslate"><span class="pre">TransformerResource.model_class</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.model_id"><code class="docutils literal notranslate"><span class="pre">TransformerResource.model_id</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.name"><code class="docutils literal notranslate"><span class="pre">TransformerResource.name</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.tokenizer"><code class="docutils literal notranslate"><span class="pre">TransformerResource.tokenizer</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.tokenizer_args"><code class="docutils literal notranslate"><span class="pre">TransformerResource.tokenizer_args</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.tokenizer_class"><code class="docutils literal notranslate"><span class="pre">TransformerResource.tokenizer_class</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.torch_config"><code class="docutils literal notranslate"><span class="pre">TransformerResource.torch_config</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.resource.TransformerResource.trainable"><code class="docutils literal notranslate"><span class="pre">TransformerResource.trainable</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer.tokenizer">zensols.deepnlp.transformer.tokenizer module</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.DEFAULT_PARAMS"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.DEFAULT_PARAMS</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.all_special_tokens"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.all_special_tokens</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.feature_id"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.feature_id</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.id2tok"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.id2tok</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.params"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.params</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.pretrained_tokenizer"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.pretrained_tokenizer</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.resource"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.resource</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.token_max_length"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.token_max_length</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.tokenize"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.tokenize()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.tokenizer.TransformerDocumentTokenizer.word_piece_token_length"><code class="docutils literal notranslate"><span class="pre">TransformerDocumentTokenizer.word_piece_token_length</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer.vectorizers">zensols.deepnlp.transformer.vectorizers module</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer"><code class="docutils literal notranslate"><span class="pre">DocumentEmbeddingFeatureVectorizer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.DESCRIPTION"><code class="docutils literal notranslate"><span class="pre">DocumentEmbeddingFeatureVectorizer.DESCRIPTION</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.FEATURE_TYPE"><code class="docutils literal notranslate"><span class="pre">DocumentEmbeddingFeatureVectorizer.FEATURE_TYPE</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.__init__"><code class="docutils literal notranslate"><span class="pre">DocumentEmbeddingFeatureVectorizer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.token_feature_ids"><code class="docutils literal notranslate"><span class="pre">DocumentEmbeddingFeatureVectorizer.token_feature_ids</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.DocumentEmbeddingFeatureVectorizer.token_pattern"><code class="docutils literal notranslate"><span class="pre">DocumentEmbeddingFeatureVectorizer.token_pattern</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.DocumentMappedTransformerFeatureContext"><code class="docutils literal notranslate"><span class="pre">DocumentMappedTransformerFeatureContext</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.DocumentMappedTransformerFeatureContext.__init__"><code class="docutils literal notranslate"><span class="pre">DocumentMappedTransformerFeatureContext.__init__()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer"><code class="docutils literal notranslate"><span class="pre">LabelTransformerFeatureVectorizer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer.FEATURE_TYPE"><code class="docutils literal notranslate"><span class="pre">LabelTransformerFeatureVectorizer.FEATURE_TYPE</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer.__init__"><code class="docutils literal notranslate"><span class="pre">LabelTransformerFeatureVectorizer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.LabelTransformerFeatureVectorizer.is_labeler"><code class="docutils literal notranslate"><span class="pre">LabelTransformerFeatureVectorizer.is_labeler</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer"><code class="docutils literal notranslate"><span class="pre">TransformerEmbeddingFeatureVectorizer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer.DESCRIPTION"><code class="docutils literal notranslate"><span class="pre">TransformerEmbeddingFeatureVectorizer.DESCRIPTION</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer.FEATURE_TYPE"><code class="docutils literal notranslate"><span class="pre">TransformerEmbeddingFeatureVectorizer.FEATURE_TYPE</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerEmbeddingFeatureVectorizer.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerEmbeddingFeatureVectorizer.__init__()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext"><code class="docutils literal notranslate"><span class="pre">TransformerExpanderFeatureContext</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerExpanderFeatureContext.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext.contexts"><code class="docutils literal notranslate"><span class="pre">TransformerExpanderFeatureContext.contexts</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureContext.deallocate"><code class="docutils literal notranslate"><span class="pre">TransformerExpanderFeatureContext.deallocate()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer"><code class="docutils literal notranslate"><span class="pre">TransformerExpanderFeatureVectorizer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.DESCRIPTION"><code class="docutils literal notranslate"><span class="pre">TransformerExpanderFeatureVectorizer.DESCRIPTION</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.FEATURE_TYPE"><code class="docutils literal notranslate"><span class="pre">TransformerExpanderFeatureVectorizer.FEATURE_TYPE</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerExpanderFeatureVectorizer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.delegate_feature_ids"><code class="docutils literal notranslate"><span class="pre">TransformerExpanderFeatureVectorizer.delegate_feature_ids</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerExpanderFeatureVectorizer.delegates"><code class="docutils literal notranslate"><span class="pre">TransformerExpanderFeatureVectorizer.delegates</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureContext</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureContext.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.deallocate"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureContext.deallocate()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.get_document"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureContext.get_document()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureContext.get_feature_document"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureContext.get_feature_document()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureVectorizer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureVectorizer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.encode_tokenized"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureVectorizer.encode_tokenized</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.feature_type"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureVectorizer.feature_type</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.is_labeler"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureVectorizer.is_labeler</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.tokenize"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureVectorizer.tokenize()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerFeatureVectorizer.word_piece_token_length"><code class="docutils literal notranslate"><span class="pre">TransformerFeatureVectorizer.word_piece_token_length</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer"><code class="docutils literal notranslate"><span class="pre">TransformerMaskFeatureVectorizer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer.DESCRIPTION"><code class="docutils literal notranslate"><span class="pre">TransformerMaskFeatureVectorizer.DESCRIPTION</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerMaskFeatureVectorizer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerMaskFeatureVectorizer.data_type"><code class="docutils literal notranslate"><span class="pre">TransformerMaskFeatureVectorizer.data_type</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer"><code class="docutils literal notranslate"><span class="pre">TransformerNominalFeatureVectorizer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.DESCRIPTION"><code class="docutils literal notranslate"><span class="pre">TransformerNominalFeatureVectorizer.DESCRIPTION</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.__init__"><code class="docutils literal notranslate"><span class="pre">TransformerNominalFeatureVectorizer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.annotations_attribute"><code class="docutils literal notranslate"><span class="pre">TransformerNominalFeatureVectorizer.annotations_attribute</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.delegate_feature_id"><code class="docutils literal notranslate"><span class="pre">TransformerNominalFeatureVectorizer.delegate_feature_id</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.label_all_tokens"><code class="docutils literal notranslate"><span class="pre">TransformerNominalFeatureVectorizer.label_all_tokens</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.vectorizers.TransformerNominalFeatureVectorizer.write"><code class="docutils literal notranslate"><span class="pre">TransformerNominalFeatureVectorizer.write()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer.wordpiece">zensols.deepnlp.transformer.wordpiece module</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory"><code class="docutils literal notranslate"><span class="pre">CachingWordPieceFeatureDocumentFactory</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.__init__"><code class="docutils literal notranslate"><span class="pre">CachingWordPieceFeatureDocumentFactory.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.clear"><code class="docutils literal notranslate"><span class="pre">CachingWordPieceFeatureDocumentFactory.clear()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.create"><code class="docutils literal notranslate"><span class="pre">CachingWordPieceFeatureDocumentFactory.create()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.hasher"><code class="docutils literal notranslate"><span class="pre">CachingWordPieceFeatureDocumentFactory.hasher</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.CachingWordPieceFeatureDocumentFactory.stash"><code class="docutils literal notranslate"><span class="pre">CachingWordPieceFeatureDocumentFactory.stash</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPiece"><code class="docutils literal notranslate"><span class="pre">WordPiece</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.UNKNOWN_TOKEN"><code class="docutils literal notranslate"><span class="pre">WordPiece.UNKNOWN_TOKEN</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.__init__"><code class="docutils literal notranslate"><span class="pre">WordPiece.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.index"><code class="docutils literal notranslate"><span class="pre">WordPiece.index</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.is_unknown"><code class="docutils literal notranslate"><span class="pre">WordPiece.is_unknown</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.vocab_index"><code class="docutils literal notranslate"><span class="pre">WordPiece.vocab_index</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPiece.word"><code class="docutils literal notranslate"><span class="pre">WordPiece.word</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator"><code class="docutils literal notranslate"><span class="pre">WordPieceDocumentDecorator</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator.__init__"><code class="docutils literal notranslate"><span class="pre">WordPieceDocumentDecorator.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator.decorate"><code class="docutils literal notranslate"><span class="pre">WordPieceDocumentDecorator.decorate()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceDocumentDecorator.word_piece_doc_factory"><code class="docutils literal notranslate"><span class="pre">WordPieceDocumentDecorator.word_piece_doc_factory</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocument</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.__init__"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocument.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.copy_embedding"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocument.copy_embedding()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.embedding"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocument.embedding</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.tokenized"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocument.tokenized</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocument.write"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocument.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.__init__"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_sent_embeddings"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory.add_sent_embeddings()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.add_token_embeddings"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory.add_token_embeddings()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.create"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory.create()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.embed_model"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory.embed_model</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.populate"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory.populate()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.sent_embeddings"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory.sent_embeddings</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.token_embeddings"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory.token_embeddings</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureDocumentFactory.tokenizer"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureDocumentFactory.tokenizer</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSentence"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureSentence</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSentence.__init__"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureSentence.__init__()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureSpan</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.__init__"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureSpan.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.copy_embedding"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureSpan.copy_embedding()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.embedding"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureSpan.embedding</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureSpan.write"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureSpan.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.__init__"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.clone"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.clone()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.copy_embedding"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.copy_embedding()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.detach"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.detach()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.embedding"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.embedding</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.indexes"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.indexes</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.is_unknown"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.is_unknown</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.token_embedding"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.token_embedding</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.word_iter"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.word_iter()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.words"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.words</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureToken.write"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureToken.write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.DESCRIPTION"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer.DESCRIPTION</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.FEATURE_TYPE"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer.FEATURE_TYPE</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.__init__"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.access"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer.access</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.decode_embedding"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer.decode_embedding</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.embed_model"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer.embed_model</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.encode"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer.encode()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.encode_transformed"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer.encode_transformed</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.fold_method"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer.fold_method</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceFeatureVectorizer.word_piece_doc_factory"><code class="docutils literal notranslate"><span class="pre">WordPieceFeatureVectorizer.word_piece_doc_factory</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer"><code class="docutils literal notranslate"><span class="pre">WordPieceTokenContainer</span></code></a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer.unknown_count"><code class="docutils literal notranslate"><span class="pre">WordPieceTokenContainer.unknown_count</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.wordpiece.WordPieceTokenContainer.word_iter"><code class="docutils literal notranslate"><span class="pre">WordPieceTokenContainer.word_iter()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-zensols.deepnlp.transformer">Module contents</a><ul>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.normalize_huggingface_logging"><code class="docutils literal notranslate"><span class="pre">normalize_huggingface_logging()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.suppress_warnings"><code class="docutils literal notranslate"><span class="pre">suppress_warnings()</span></code></a></li>
<li><a class="reference internal" href="#zensols.deepnlp.transformer.turn_off_huggingface_downloads"><code class="docutils literal notranslate"><span class="pre">turn_off_huggingface_downloads()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=81146b8a"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    </body>
</html>